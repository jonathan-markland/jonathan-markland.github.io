!function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n,t){"use strict";function r(e){return null!=e&&(Array.isArray(e)||ArrayBuffer.isView(e))}function o(e){return null!=e&&"function"==typeof e.Dispose}t.r(n);function i(e,n,t){return e.has(n)?[!0,e.get(n)]:[!1,t]}function u(e,n){return!n.has(e)&&(n.add(e),!0)}function a(e){const n=e;return"number"==typeof n.offset?n.offset:1===e.kind?0:-6e4*e.getTimezoneOffset()}class s{static id(e){return s.idMap.has(e)||s.idMap.set(e,++s.count),s.idMap.get(e)}}function l(e){let n=0,t=5381;const r=e.length;for(;n<r;)t=33*t^e.charCodeAt(n++);return t}function c(e){return 2654435761*e|0}function f(e){return 0===e.length?0:e.reduce((e,n)=>(e<<5)+e^n)}function d(e){if(null==e)return 0;switch(typeof e){case"boolean":return e?1:0;case"number":return c(e);case"string":return l(e);default:if(function(e){return null!=e&&"function"==typeof e.GetHashCode}(e))return e.GetHashCode();if(r(e)){const n=e.length,t=new Array(n);for(let r=0;r<n;r++)t[r]=d(e[r]);return f(t)}return l(String(e))}}function h(e,n,t){if(null==e)return null==n;if(null==n)return!1;if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(!t(e[r],n[r]))return!1;return!0}function g(e,n){return h(e,n,w)}function w(e,n){return e===n||(null==e?null==n:null!=n&&("object"==typeof e&&(function(e){return null!=e&&"function"==typeof e.Equals}(e)?e.Equals(n):r(e)?r(n)&&g(e,n):e instanceof Date&&(n instanceof Date&&0===p(e,n)))))}function p(e,n){let t,r;return"offset"in e&&"offset"in n?(t=e.getTime(),r=n.getTime()):(t=e.getTime()+a(e),r=n.getTime()+a(n)),t===r?0:t<r?-1:1}function m(e,n){return e===n?0:e<n?-1:1}function M(e,n,t){if(null==e)return null==n?0:1;if(null==n)return-1;if(e.length!==n.length)return e.length<n.length?-1:1;for(let r=0,o=0;r<e.length;r++)if(o=t(e[r],n[r]),0!==o)return o;return 0}function I(e,n){return M(e,n,y)}function y(e,n){return e===n?0:null==e?null==n?0:-1:null==n?1:"object"!=typeof e?e<n?-1:1:function(e){return null!=e&&"function"==typeof e.CompareTo}(e)?e.CompareTo(n):r(e)&&r(n)?I(e,n):e instanceof Date&&n instanceof Date?p(e,n):1}function S(e,n,t){return e(n,t)<0?n:t}function b(e,n,t){return e(n,t)>0?n:t}function v(e){let n=e;return e=>void 0===e?n:void(n=e)}s.idMap=new WeakMap,s.count=0;function C(e,n){if(null==n)return null;if(n.length>1)return n;let t;switch(e){case 2:t=(e,t)=>n(e)(t);break;case 3:t=(e,t,r)=>n(e)(t)(r);break;case 4:t=(e,t,r,o)=>n(e)(t)(r)(o);break;case 5:t=(e,t,r,o,i)=>n(e)(t)(r)(o)(i);break;case 6:t=(e,t,r,o,i,u)=>n(e)(t)(r)(o)(i)(u);break;case 7:t=(e,t,r,o,i,u,a)=>n(e)(t)(r)(o)(i)(u)(a);break;case 8:t=(e,t,r,o,i,u,a,s)=>n(e)(t)(r)(o)(i)(u)(a)(s);break;default:throw new Error("Uncurrying to more than 8-arity is not supported: "+e)}return t.__CURRIED__=n,t}function D(e,n){if(null!=n){if("__CURRIED__"in n)return n.__CURRIED__;switch(e){case 2:return e=>t=>n(e,t);case 3:return e=>t=>r=>n(e,t,r);case 4:return e=>t=>r=>o=>n(e,t,r,o);case 5:return e=>t=>r=>o=>i=>n(e,t,r,o,i);case 6:return e=>t=>r=>o=>i=>u=>n(e,t,r,o,i,u);case 7:return e=>t=>r=>o=>i=>u=>a=>n(e,t,r,o,i,u,a);case 8:return e=>t=>r=>o=>i=>u=>a=>s=>n(e,t,r,o,i,u,a,s);default:throw new Error("Currying to more than 8-arity is not supported: "+e)}}}function x(e,n,t){if(null==n)return null;if("__CURRIED__"in n){n=n.__CURRIED__;for(let e=0;e<t.length;e++)n=n(t[e]);return n}switch(e){case 1:return e=>n.apply(null,t.concat([e]));case 2:return e=>r=>n.apply(null,t.concat([e,r]));case 3:return e=>r=>o=>n.apply(null,t.concat([e,r,o]));case 4:return e=>r=>o=>i=>n.apply(null,t.concat([e,r,o,i]));case 5:return e=>r=>o=>i=>u=>n.apply(null,t.concat([e,r,o,i,u]));case 6:return e=>r=>o=>i=>u=>a=>n.apply(null,t.concat([e,r,o,i,u,a]));case 7:return e=>r=>o=>i=>u=>a=>s=>n.apply(null,t.concat([e,r,o,i,u,a,s]));case 8:return e=>r=>o=>i=>u=>a=>s=>l=>n.apply(null,t.concat([e,r,o,i,u,a,s,l]));default:throw new Error("Partially applying to more than 8-arity is not supported: "+e)}}function k(e,n){if(e.has(n))return e.get(n);throw new Error(`The given key '${n}' was not present in the dictionary.`)}function T(e,n){return null!=n&&Object.getPrototypeOf(e).constructor===Object.getPrototypeOf(n).constructor}function P(e,n){return function(e,n){e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}(e,n||R),e}function R(){}function E(e,n){if(e===n)return 0;if(null==n)return-1;for(;null!=e.tail;){if(null==n.tail)return 1;const t=y(e.head,n.head);if(0!==t)return t;e=e.tail,n=n.tail}return null==n.tail?0:-1}function O(e,n){this.head=e,this.tail=n}function L(e,n,...t){this.tag=0|e,this.name=n,this.fields=t}function W(e,n){const t={},r=null==n?Object.keys(e):n(e);for(let n=0;n<r.length;n++)t[r[n]]=e[r[n]];return t}function F(e,n,t){if(e===n)return!0;if(T(e,n)){const r=null==t?Object.keys(e):t(e);for(let t=0;t<r.length;t++)if(!w(e[r[t]],n[r[t]]))return!1;return!0}return!1}function A(e,n,t){if(e===n)return 0;if(T(e,n)){const r=null==t?Object.keys(e):t(e);for(let t=0;t<r.length;t++){const o=y(e[r[t]],n[r[t]]);if(0!==o)return o}return 0}return-1}function B(){}R.prototype.toString=function(){return"{"+Object.keys(this).map(e=>e+" = "+String(this[e])).join(";\n ")+"}"},R.prototype.GetHashCode=function(){return function(e){if(null==e)return 0;switch(typeof e){case"boolean":return e?1:0;case"number":return c(e);case"string":return l(e);default:return c(s.id(e))}}(this)},R.prototype.Equals=function(e){return this===e},O.prototype.toString=function(){return"["+Array.from(this).map(e=>String(e)).join("; ")+"]"},O.prototype.toJSON=function(){return Array.from(this)},O.prototype[Symbol.iterator]=function(){let e=this;return{next:()=>{const n=e;return e=e.tail,{done:null==n.tail,value:n.head}}}},O.prototype.GetHashCode=function(){return f(Array.from(this).map(d))},O.prototype.Equals=function(e){return 0===E(this,e)},O.prototype.CompareTo=function(e){return E(this,e)},L.prototype.toString=function(){const e=this.fields.length;return 0===e?this.name:1===e?this.name+" "+String(this.fields[0]):this.name+" ("+this.fields.map(e=>String(e)).join(",")+")"},L.prototype.toJSON=function(){return 0===this.fields.length?this.name:[this.name].concat(this.fields)},L.prototype.GetHashCode=function(){const e=this.fields.map(e=>d(e));return e.splice(0,0,c(this.tag)),f(e)},L.prototype.Equals=function(e){return this===e||T(this,e)&&this.tag===e.tag&&g(this.fields,e.fields)},L.prototype.CompareTo=function(e){return this===e?0:T(this,e)?this.tag===e.tag?I(this.fields,e.fields):this.tag<e.tag?-1:1:-1},B.prototype.toString=function(){return"{"+Object.keys(this).map(e=>e+" = "+String(this[e])).join(";\n ")+"}"},B.prototype.toJSON=function(){return W(this)},B.prototype.GetHashCode=function(){return f(Object.keys(this).map(e=>d(this[e])))},B.prototype.Equals=function(e){return F(this,e)},B.prototype.CompareTo=function(e){return A(this,e)};const K=P((function(e){this.contents=e}),B),N=P((function(e){this.stack=Error().stack,this.message=e}),R);function _(e){return Object.keys(e).filter(e=>"message"!==e&&"stack"!==e)}const H=P((function(){N.call(this)}),N);H.prototype.toString=function(){const e=_(this),n=e.length;return 0===n?this.message:1===n?this.message+" "+String(this[e[0]]):this.message+" ("+e.map(e=>String(this[e])).join(",")+")"},H.prototype.toJSON=function(){return W(this,_)},H.prototype.GetHashCode=function(){return f(_(this).map(e=>d(this[e])))},H.prototype.Equals=function(e){return F(this,e,_)},H.prototype.CompareTo=function(e){return A(this,e,_)};P((function(e,n,t){this.arg1=e,this.arg2=0|n,this.arg3=0|t,this.message="The match cases were incomplete"}),H),P((function(){}),R);class G{constructor(e,n,t,r,o,i){this.fullname=e,this.generics=n,this.constructor=t,this.fields=r,this.cases=o,this.enumCases=i}toString(){return function e(n){const t=null==n.generics||V(n)?[]:n.generics;return t.length>0?n.fullname+"["+t.map(n=>e(n)).join(",")+"]":n.fullname}(this)}Equals(e){return q(this,e)}CompareTo(e){return U(this,e)}}function j(e){return null!=e.generics?e.generics:[]}function q(e,n){return""===e.fullname?""===n.fullname&&h(z(e),z(n),([e,n],[t,r])=>e===t&&q(n,r)):e.fullname===n.fullname&&h(j(e),j(n),q)}function U(e,n){return e.fullname!==n.fullname?e.fullname<n.fullname?-1:1:M(j(e),j(n),U)}new G("System.Object"),new G("Microsoft.FSharp.Core.Unit"),new G("System.Char"),new G("System.String"),new G("System.Boolean"),new G("System.SByte"),new G("System.Byte"),new G("System.Int16"),new G("System.UInt16"),new G("System.Int32"),new G("System.UInt32"),new G("System.Single"),new G("System.Double"),new G("System.Decimal");function V(e){return e.fullname.endsWith("[]")}function z(e){if(null!=e.fields)return e.fields();throw new Error(`${e.fullname} is not an F# record type`)}const J=P((function(e,n,...t){L.call(this,e,n,...t)}),L);const Y=P((function(e,n){this.JustDown=e,this.Held=n}),B);const X=new Y(!1,!1);class Z{constructor(e){this.value=e}toString(){return String(this.value)}toJSON(){return this.value}GetHashCode(){return d(this.value)}Equals(e){return null!=e&&w(this.value,e instanceof Z?e.value:e)}CompareTo(e){return null==e?1:y(this.value,e instanceof Z?e.value:e)}}function $(e){return null==(e=void 0===e?null:e)||e instanceof Z?new Z(e):e}function Q(e,n){if(null==e){if(!n)throw new Error("Option has no value");return null}return e instanceof Z?e.value:e}P((function(e,n,t){L.call(this,e,n,t)}),L);const ee=P((function(e,n,t){L.call(this,e,n,t)}),L);var ne={GetHashCode(){return f([this.s,this.e].concat(this.c))},Equals(e){return!this.cmp(e)},CompareTo(e){return this.cmp(e)}},te="[big.js] ",re=te+"Invalid ",oe=re+"decimal places",ie=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function ue(e,n){var t,r,o;if(0===n&&1/n<0)n="-0";else if(!ie.test(n+=""))throw Error(re+"number");for(e.s="-"==n.charAt(0)?(n=n.slice(1),-1):1,(t=n.indexOf("."))>-1&&(n=n.replace(".","")),(r=n.search(/e/i))>0?(t<0&&(t=r),t+=+n.slice(r+1),n=n.substring(0,r)):t<0&&(t=n.length),o=n.length,r=0;r<t&&r<o&&"0"==n.charAt(r);)++r;if(r==o)e.c=[e.e=0];else for(e.e=t-r-1,e.c=[],t=0;r<o;)e.c[t++]=+n.charAt(r++);return e=ae(e,le.DP,le.RM)}function ae(e,n,t,r){var o=e.c,i=e.e+n+1;if(i<o.length){if(1===t)r=o[i]>=5;else if(2===t)r=o[i]>5||5==o[i]&&(r||i<0||void 0!==o[i+1]||1&o[i-1]);else if(3===t)r=r||!!o[0];else if(r=!1,0!==t)throw Error("[big.js] Invalid rounding mode");if(i<1)o.length=1,r?(e.e=-n,o[0]=1):o[0]=e.e=0;else{if(o.length=i--,r)for(;++o[i]>9;)o[i]=0,i--||(++e.e,o.unshift(1));for(i=o.length;!o[--i];)o.pop()}}else if(t<0||t>3||t!==~~t)throw Error("[big.js] Invalid rounding mode");return e}function se(e,n,t,r){var o,i,u=e.constructor,a=!e.c[0];if(void 0!==t){if(t!==~~t||t<(3==n)||t>1e6)throw Error(3==n?re+"precision":oe);for(t=r-(e=new u(e)).e,e.c.length>++r&&ae(e,t,u.RM),2==n&&(r=e.e+t+1);e.c.length<r;)e.c.push(0)}if(o=e.e,t=(i=e.c.join("")).length,2!=n&&(1==n||3==n&&r<=o||o<=u.NE||o>=u.PE))i=i.charAt(0)+(t>1?"."+i.slice(1):"")+(o<0?"e":"e+")+o;else if(o<0){for(;++o;)i="0"+i;i="0."+i}else if(o>0)if(++o>t)for(o-=t;o--;)i+="0";else o<t&&(i=i.slice(0,o)+"."+i.slice(o));else t>1&&(i=i.charAt(0)+"."+i.slice(1));return e.s<0&&(!a||4==n)?"-"+i:i}ne.abs=function(){var e=new this.constructor(this);return e.s=1,e},ne.cmp=function(e){var n,t=this.constructor,r=new t(this),o=(e=new t(e),r.c),i=e.c,u=r.s,a=e.s,s=r.e,l=e.e;if(!o[0]||!i[0])return o[0]?u:i[0]?-a:0;if(u!=a)return u;if(n=u<0,s!=l)return s>l^n?1:-1;for(a=Math.max(o.length,i.length),u=0;u<a;u++)if((s=u<o.length?o[u]:0)!=(l=u<i.length?i[u]:0))return s>l^n?1:-1;return 0},ne.div=function(e){var n=this.constructor,t=new n(this),r=(e=new n(e),t.c),o=e.c,i=t.s==e.s?1:-1,u=n.DP;if(u!==~~u||u<0||u>1e6)throw Error(oe);if(!o[0])throw Error("[big.js] Division by zero");if(!r[0])return new n(0*i);var a,s,l,c,f,d=o.slice(),h=a=o.length,g=r.length,w=r.slice(0,a),p=w.length,m=e,M=m.c=[],I=0,y=u+(m.e=t.e-e.e)+1;for(m.s=i,i=y<0?0:y,d.unshift(0);p++<a;)w.push(0);do{for(l=0;l<10;l++){if(a!=(p=w.length))c=a>p?1:-1;else for(f=-1,c=0;++f<a;)if(o[f]!=w[f]){c=o[f]>w[f]?1:-1;break}if(!(c<0))break;for(s=p==a?o:d;p;){if(w[--p]<s[p]){for(f=p;f&&!w[--f];)w[f]=9;--w[f],w[p]+=10}w[p]-=s[p]}for(;!w[0];)w.shift()}M[I++]=c?l:++l,w[0]&&c?w[p]=r[h]||0:w=[r[h]]}while((h++<g||void 0!==w[0])&&i--);return M[0]||1==I||(M.shift(),m.e--),I>y&&ae(m,u,n.RM,void 0!==w[0]),m},ne.eq=function(e){return!this.cmp(e)},ne.gt=function(e){return this.cmp(e)>0},ne.gte=function(e){return this.cmp(e)>-1},ne.lt=function(e){return this.cmp(e)<0},ne.lte=function(e){return this.cmp(e)<1},ne.minus=ne.sub=function(e){var n,t,r,o,i=this.constructor,u=new i(this),a=(e=new i(e),u.s),s=e.s;if(a!=s)return e.s=-s,u.plus(e);var l=u.c.slice(),c=u.e,f=e.c,d=e.e;if(!l[0]||!f[0])return f[0]?(e.s=-s,e):new i(l[0]?u:0);if(a=c-d){for((o=a<0)?(a=-a,r=l):(d=c,r=f),r.reverse(),s=a;s--;)r.push(0);r.reverse()}else for(t=((o=l.length<f.length)?l:f).length,a=s=0;s<t;s++)if(l[s]!=f[s]){o=l[s]<f[s];break}if(o&&(r=l,l=f,f=r,e.s=-e.s),(s=(t=f.length)-(n=l.length))>0)for(;s--;)l[n++]=0;for(s=n;t>a;){if(l[--t]<f[t]){for(n=t;n&&!l[--n];)l[n]=9;--l[n],l[t]+=10}l[t]-=f[t]}for(;0===l[--s];)l.pop();for(;0===l[0];)l.shift(),--d;return l[0]||(e.s=1,l=[d=0]),e.c=l,e.e=d,e},ne.mod=function(e){var n,t=this.constructor,r=new t(this),o=(e=new t(e),r.s),i=e.s;if(!e.c[0])throw Error("[big.js] Division by zero");return r.s=e.s=1,n=1==e.cmp(r),r.s=o,e.s=i,n?new t(r):(o=t.DP,i=t.RM,t.DP=t.RM=0,r=r.div(e),t.DP=o,t.RM=i,this.minus(r.times(e)))},ne.plus=ne.add=function(e){var n,t=this.constructor,r=new t(this),o=(e=new t(e),r.s),i=e.s;if(o!=i)return e.s=-i,r.minus(e);var u=r.e,a=r.c,s=e.e,l=e.c;if(!a[0]||!l[0])return l[0]?e:new t(a[0]?r:0*o);if(a=a.slice(),o=u-s){for(o>0?(s=u,n=l):(o=-o,n=a),n.reverse();o--;)n.push(0);n.reverse()}for(a.length-l.length<0&&(n=l,l=a,a=n),o=l.length,i=0;o;a[o]%=10)i=(a[--o]=a[o]+l[o]+i)/10|0;for(i&&(a.unshift(i),++s),o=a.length;0===a[--o];)a.pop();return e.c=a,e.e=s,e},ne.pow=function(e){var n=this.constructor,t=new n(this),r=new n(1),o=new n(1),i=e<0;if(e!==~~e||e<-1e6||e>1e6)throw Error(re+"exponent");for(i&&(e=-e);1&e&&(r=r.times(t)),e>>=1;)t=t.times(t);return i?o.div(r):r},ne.round=function(e,n){var t=this.constructor;if(void 0===e)e=0;else if(e!==~~e||e<-1e6||e>1e6)throw Error(oe);return ae(new t(this),e,void 0===n?t.RM:n)},ne.sqrt=function(){var e,n,t,r=this.constructor,o=new r(this),i=o.s,u=o.e,a=new r(.5);if(!o.c[0])return new r(o);if(i<0)throw Error(te+"No square root");0===(i=Math.sqrt(o+""))||i===1/0?((n=o.c.join("")).length+u&1||(n+="0"),u=((u+1)/2|0)-(u<0||1&u),e=new r(((i=Math.sqrt(n))==1/0?"1e":(i=i.toExponential()).slice(0,i.indexOf("e")+1))+u)):e=new r(i),u=e.e+(r.DP+=4);do{t=e,e=a.times(t.plus(o.div(t)))}while(t.c.slice(0,u).join("")!==e.c.slice(0,u).join(""));return ae(e,r.DP-=4,r.RM)},ne.times=ne.mul=function(e){var n,t=this.constructor,r=new t(this),o=(e=new t(e),r.c),i=e.c,u=o.length,a=i.length,s=r.e,l=e.e;if(e.s=r.s==e.s?1:-1,!o[0]||!i[0])return new t(0*e.s);for(e.e=s+l,u<a&&(n=o,o=i,i=n,l=u,u=a,a=l),n=new Array(l=u+a);l--;)n[l]=0;for(s=a;s--;){for(a=0,l=u+s;l>s;)a=n[l]+i[s]*o[l-s-1]+a,n[l--]=a%10,a=a/10|0;n[l]=(n[l]+a)%10}for(a?++e.e:n.shift(),s=n.length;!n[--s];)n.pop();return e.c=n,e},ne.toExponential=function(e){return se(this,1,e,e)},ne.toFixed=function(e){return se(this,2,e,this.e+e)},ne.toPrecision=function(e){return se(this,3,e,e-1)},ne.toString=function(){return se(this)},ne.valueOf=ne.toJSON=function(){return se(this,4)};var le=function e(){function n(t){var r=this;if(!(r instanceof n))return void 0===t?e():new n(t);t instanceof n?(r.s=t.s,r.e=t.e,r.c=t.c.slice(),function(e){if((e=ae(e,28,0)).c.length>1&&!e.c[0]){let n=e.c.findIndex(e=>e);e.c=e.c.slice(n),e.e=e.e-n}}(r)):ue(r,t),r.constructor=n}return n.prototype=ne,n.DP=28,n.RM=1,n.NE=-29,n.PE=29,n.version="5.2.2",n}(),ce=le,fe=ce;new ce(0),new ce(1),new ce(-1),new ce("79228162514264337593543950335"),new ce("-79228162514264337593543950335");var de;function he(e){return-2147483648===e?e:-e}!function(e){e[e.AllowHexSpecifier=512]="AllowHexSpecifier"}(de||(de={}));var ge=null;try{ge=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function we(e,n,t){this.low=0|e,this.high=0|n,this.unsigned=!!t}function pe(e){return!0===(e&&e.__isLong__)}we.prototype.GetHashCode=function(){let e=this.unsigned?1:0;return e=(e<<5)+e^this.high,e=(e<<5)+e^this.low,e},we.prototype.Equals=function(e){return je(this,e)},we.prototype.CompareTo=function(e){return ze(this,e)},we.prototype.toString=function(e){return Ne(this,e)},we.prototype.toJSON=function(){return Ne(this)},we.prototype.__isLong__,Object.defineProperty(we.prototype,"__isLong__",{value:!0});var me={},Me={};function Ie(e,n){var t,r,o;return n?(o=0<=(e>>>=0)&&e<256)&&(r=Me[e])?r:(t=Se(e,(0|e)<0?-1:0,!0),o&&(Me[e]=t),t):(o=-128<=(e|=0)&&e<128)&&(r=me[e])?r:(t=Se(e,e<0?-1:0,!1),o&&(me[e]=t),t)}function ye(e,n){if(isNaN(e))return n?Re:Pe;if(n){if(e<0)return Re;if(e>=xe)return Fe}else{if(e<=-ke)return Ae;if(e+1>=ke)return We}return e<0?Je(ye(-e,n)):Se(e%De|0,e/De|0,n)}function Se(e,n,t){return new we(e,n,t)}var be=Math.pow;function ve(e,n,t){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return Pe;if("number"==typeof n?(t=n,n=!1):n=!!n,(t=t||10)<2||36<t)throw RangeError("radix");var r=e.indexOf("-");if(r>0)throw Error("interior hyphen");if(0===r)return Je(ve(e.substring(1),n,t));for(var o=ye(be(t,8)),i=Pe,u=0;u<e.length;u+=8){var a=Math.min(8,e.length-u),s=parseInt(e.substring(u,u+a),t);if(a<8)i=Ye(Ze(i,ye(be(t,a))),ye(s));else i=Ye(i=Ze(i,o),ye(s))}return i.unsigned=n,i}function Ce(e,n){return"number"==typeof e?ye(e,n):"string"==typeof e?ve(e,n):Se(e.low,e.high,"boolean"==typeof n?n:e.unsigned)}var De=4294967296,xe=De*De,ke=xe/2,Te=Ie(1<<24),Pe=Ie(0),Re=Ie(0,!0),Ee=Ie(1),Oe=Ie(1,!0),Le=Ie(-1),We=Se(-1,2147483647,!1),Fe=Se(-1,-1,!0),Ae=Se(0,-2147483648,!1);function Be(e){return e.unsigned?e.low>>>0:e.low}function Ke(e){return e.unsigned?(e.high>>>0)*De+(e.low>>>0):e.high*De+(e.low>>>0)}function Ne(e,n){if((n=n||10)<2||36<n)throw RangeError("radix");if(_e(e))return"0";if(He(e)){if(je(e,Ae)){var t=ye(n),r=$e(e,t),o=Xe(Ze(r,t),e);return Ne(r,n)+Be(o).toString(n)}return"-"+Ne(Je(e),n)}for(var i=ye(be(n,6),e.unsigned),u=e,a="";;){var s=$e(u,i),l=(Be(Xe(u,Ze(s,i)))>>>0).toString(n);if(_e(u=s))return l+a;for(;l.length<6;)l="0"+l;a=""+l+a}}function _e(e){return 0===e.high&&0===e.low}function He(e){return!e.unsigned&&e.high<0}function Ge(e){return 1==(1&e.low)}function je(e,n){return pe(n)||(n=Ce(n)),(e.unsigned===n.unsigned||e.high>>>31!=1||n.high>>>31!=1)&&(e.high===n.high&&e.low===n.low)}function qe(e,n){return ze(e,n)<0}function Ue(e,n){return ze(e,n)>0}function Ve(e,n){return ze(e,n)>=0}function ze(e,n){if(pe(n)||(n=Ce(n)),je(e,n))return 0;var t=He(e),r=He(n);return t&&!r?-1:!t&&r?1:e.unsigned?n.high>>>0>e.high>>>0||n.high===e.high&&n.low>>>0>e.low>>>0?-1:1:He(Xe(e,n))?-1:1}function Je(e){return!e.unsigned&&je(e,Ae)?Ae:Ye(Qe(e),Ee)}function Ye(e,n){pe(n)||(n=Ce(n));var t=e.high>>>16,r=65535&e.high,o=e.low>>>16,i=65535&e.low,u=n.high>>>16,a=65535&n.high,s=n.low>>>16,l=0,c=0,f=0,d=0;return f+=(d+=i+(65535&n.low))>>>16,c+=(f+=o+s)>>>16,l+=(c+=r+a)>>>16,l+=t+u,Se((f&=65535)<<16|(d&=65535),(l&=65535)<<16|(c&=65535),e.unsigned)}function Xe(e,n){return pe(n)||(n=Ce(n)),Ye(e,Je(n))}function Ze(e,n){if(_e(e))return e.unsigned?Re:Pe;if(pe(n)||(n=Ce(n)),ge)return Se(ge.mul(e.low,e.high,n.low,n.high),ge.get_high(),e.unsigned);if(_e(n))return e.unsigned?Re:Pe;if(je(e,Ae))return Ge(n)?Ae:Pe;if(je(n,Ae))return Ge(e)?Ae:Pe;if(He(e))return He(n)?Ze(Je(e),Je(n)):Je(Ze(Je(e),n));if(He(n))return Je(Ze(e,Je(n)));if(qe(e,Te)&&qe(n,Te))return ye(Ke(e)*Ke(n),e.unsigned);var t=e.high>>>16,r=65535&e.high,o=e.low>>>16,i=65535&e.low,u=n.high>>>16,a=65535&n.high,s=n.low>>>16,l=65535&n.low,c=0,f=0,d=0,h=0;return d+=(h+=i*l)>>>16,f+=(d+=o*l)>>>16,d&=65535,f+=(d+=i*s)>>>16,c+=(f+=r*l)>>>16,f&=65535,c+=(f+=o*s)>>>16,f&=65535,c+=(f+=i*a)>>>16,c+=t*l+r*s+o*a+i*u,Se((d&=65535)<<16|(h&=65535),(c&=65535)<<16|(f&=65535),e.unsigned)}function $e(e,n){if(pe(n)||(n=Ce(n)),_e(n))throw Error("division by zero");var t,r,o;if(ge)return e.unsigned||-2147483648!==e.high||-1!==n.low||-1!==n.high?Se((e.unsigned?ge.div_u:ge.div_s)(e.low,e.high,n.low,n.high),ge.get_high(),e.unsigned):e;if(_e(e))return e.unsigned?Re:Pe;if(e.unsigned){if(n.unsigned||(n=function(e){return e.unsigned?e:Se(e.low,e.high,!0)}(n)),Ue(n,e))return Re;if(Ue(n,tn(e,1)))return Oe;o=Re}else{if(je(e,Ae))return je(n,Ee)||je(n,Le)?Ae:je(n,Ae)?Ee:je(t=en($e(nn(e,1),n),1),Pe)?He(n)?Ee:Le:o=Ye(t,$e(r=Xe(e,Ze(n,t)),n));if(je(n,Ae))return e.unsigned?Re:Pe;if(He(e))return He(n)?$e(Je(e),Je(n)):Je($e(Je(e),n));if(He(n))return Je($e(e,Je(n)));o=Pe}for(r=e;Ve(r,n);){t=Math.max(1,Math.floor(Ke(r)/Ke(n)));for(var i=Math.ceil(Math.log(t)/Math.LN2),u=i<=48?1:be(2,i-48),a=ye(t),s=Ze(a,n);He(s)||Ue(s,r);)s=Ze(a=ye(t-=u,e.unsigned),n);_e(a)&&(a=Ee),o=Ye(o,a),r=Xe(r,s)}return o}function Qe(e){return Se(~e.low,~e.high,e.unsigned)}function en(e,n){return pe(n)&&(n=Be(n)),0==(n&=63)?e:n<32?Se(e.low<<n,e.high<<n|e.low>>>32-n,e.unsigned):Se(0,e.low<<n-32,e.unsigned)}function nn(e,n){return pe(n)&&(n=Be(n)),0==(n&=63)?e:n<32?Se(e.low>>>n|e.high<<32-n,e.high>>n,e.unsigned):Se(e.high>>n-32,e.high>=0?0:-1,e.unsigned)}function tn(e,n){if(pe(n)&&(n=Be(n)),0===(n&=63))return e;var t=e.high;return n<32?Se(e.low>>>n|t<<32-n,t>>>n,e.unsigned):Se(32===n?t:t>>>n-32,0,e.unsigned)}var rn=we;const on=Ze,un=ze,an=function(e,n,t){return t?function(e,n){return new we(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,n)}(e,n):function(e,n){return new we(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],n)}(e,n)},sn=function(e,n){return n?function(e){var n=e.high,t=e.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&n,n>>>8&255,n>>>16&255,n>>>24]}(e):function(e){var n=e.high,t=e.low;return[n>>>24,n>>>16&255,n>>>8&255,255&n,t>>>24,t>>>16&255,t>>>8&255,255&t]}(e)},ln=Ne;class cn{constructor(e){this.iter=e}MoveNext(){const e=this.iter.next();return this.current=e.value,!e.done}get Current(){return this.current}Reset(){throw new Error("JS iterators cannot be reset")}Dispose(){}}function fn(e){return new cn(e[Symbol.iterator]())}function dn(e){return{next:()=>e.MoveNext()?{done:!1,value:e.Current}:{done:!0,value:null}}}function hn(e){if(null==e)throw new Error("Seq did not contain any matching element");return Q(e)}function gn(e,n){return mn(()=>{let t=!1;let r=[e[Symbol.iterator](),null];return Rn(()=>{var e,o;let i;if(!t){if(i=null===(e=r[0])||void 0===e?void 0:e.next(),null!=i&&!i.done)return[i.value,r];t=!0,r=[null,n[Symbol.iterator]()]}return i=null===(o=r[1])||void 0===o?void 0:o.next(),null==i||i.done?null:[i.value,r]},r)})}function wn(e){return mn(()=>{const n=e[Symbol.iterator]();let t={value:null};return Rn(e=>{let r=!1;for(;!r;)if(null==e){const t=n.next();t.done?r=!0:e=t.value[Symbol.iterator]()}else{const n=e.next();n.done?e=null:(t={value:n.value},r=!0)}return null!=e&&null!=t?[t.value,e]:null},null)})}function pn(e,n){return wn(Cn(e,n))}function mn(e){return{[Symbol.iterator]:()=>e()[Symbol.iterator]()}}function Mn(){return Rn(()=>null,void 0)}function In(e,n){return wn(Rn(()=>e()?[n,!0]:null,void 0))}function yn(e,n,t){if(Array.isArray(t)||ArrayBuffer.isView(t))return t.reduce(e,n);{let r;for(let o=0,i=t[Symbol.iterator]();r=i.next(),!r.done;o++)n=e(n,r.value,o);return n}}function Sn(e){return hn(function(e){const n=e[Symbol.iterator]().next();return n.done?null:$(n.value)}(e))}function bn(e,n){yn((n,t)=>(e(t),null),null,n)}function vn(e,n){yn((n,t,r)=>(e(null!=r?r:0,t),null),null,n)}function Cn(e,n){return mn(()=>Rn(n=>{const t=n.next();return t.done?null:[e(t.value),n]},n[Symbol.iterator]()))}function Dn(e,n){return mn(()=>{let t=0;return Rn(n=>{const r=n.next();return r.done?null:[e(t++,r.value),n]},n[Symbol.iterator]())})}function xn(e,n,t){if(0===n)throw new Error("Step cannot be 0");return mn(()=>Rn(e=>n>0&&e<=t||n<0&&e>=t?[e,e+n]:null,e))}function kn(e){return[e]}function Tn(e,n,t){return yn((n,r)=>t.Add(n,e(r)),t.GetZero(),n)}function Pn(e,n,t=!1){return mn(()=>{const r=n[Symbol.iterator]();return Rn(n=>{if(n<e){const e=r.next();if(!e.done)return[e.value,n+1];if(!t)throw new Error("Seq has not enough elements")}return null},0)})}function Rn(e,n){return{[Symbol.iterator]:()=>{let t=n;return{next:()=>{const n=e(t);if(null!=n){const e=Q(n);if(null!=e)return t=e[1],{done:!1,value:e[0]}}return{done:!0,value:void 0}}}}}}const En=/(^|[^%])%([0+\- ]*)(\d+)?(?:\.(\d+))?(\w)/;function On(e){return"number"==typeof e||e instanceof rn||e instanceof fe}function Ln(e,n){return e instanceof rn?un(e,n)<0:e instanceof fe?e.cmp(n)<0:e<n}function Wn(e,n){return e instanceof rn?on(e,n):e instanceof fe?e.mul(n):e*n}function Fn(e,n){return e instanceof rn?String(e)+(0).toFixed(n).substr(1):e.toFixed(n)}function An(e,n){return e instanceof rn?String(e)+(0).toPrecision(n).substr(1):e.toPrecision(n)}function Bn(e,n){return e instanceof rn?String(e)+(0).toExponential(n).substr(1):e.toExponential(n)}function Kn(e){return e instanceof rn?ln(e.unsigned?e:an(sn(e),!0),16):(Number(e)>>>0).toString(16)}function Nn(e){return{input:e,cont:(n=e,e=>En.test(n)?function e(n,t){return(...r)=>{let o=n;for(const e of r)o=Hn(o,e);return En.test(o)?e(o,t):t(o.replace(/%%/g,"%"))}}(n,e):e(n))};var n}function _n(e){return e.cont(e=>e)}function Hn(e,n){return e.replace(En,(e,t,r,o,i,u)=>{let a="";if(On(n))switch("x"!==u.toLowerCase()&&(Ln(n,0)?(n=Wn(n,-1),a="-"):r.indexOf(" ")>=0?a=" ":r.indexOf("+")>=0&&(a="+")),i=null==i?null:parseInt(i,10),u){case"f":case"F":n=Fn(n,i=null!=i?i:6);break;case"g":case"G":n=null!=i?An(n,i):An(n);break;case"e":case"E":n=null!=i?Bn(n,i):Bn(n);break;case"x":n=Kn(n);break;case"X":n=Kn(n).toUpperCase();break;default:n=String(n)}if(o=parseInt(o,10),isNaN(o))n=a+n;else{const e=r.indexOf("0")>=0,t=r.indexOf("-")>=0,i=t||!e?" ":"0";n="0"===i?a+(n=qn(n,o-a.length,i,t)):qn(a+n,o,i,t)}return(t+n).replace(/%/g,"%%")})}function Gn(e,n){if(e<0)throw new Error("String length must be non-negative");const t=new Array(e);for(let r=0;r<e;r++)t[r]=n(r);return t.join("")}function jn(e,n){return Array.isArray(n)?n.join(e):Array.from(n).join(e)}function qn(e,n,t,r){t=t||" ",n-=e.length;for(let o=0;o<n;o++)e=r?e+t:t+e;return e}function Un(e,n,t){if(n+(t||0)>e.length)throw new Error("Invalid startIndex and/or length");return null!=t?e.substr(n,t):e.substr(n)}const Vn=P((function(e,n){const t=new K(null);this.comparer=n,t.contents=this,this.hashMap=new Map([]),this["init@20-1"]=1,bn((function(e){Zn(t.contents,e[0],e[1])}),e)}));function zn(e,n){const t=0|e.comparer.GetHashCode(n),r=i(e.hashMap,t,null);return r[0]?[!0,t,r[1].findIndex((function(t){return e.comparer.Equals(n,t[0])}))]:[!1,t,-1]}function Jn(e,n){const t=zn(e,n);switch(t[0]&&t[2]>-1?0:1){case 0:return k(e.hashMap,t[1])[t[2]];case 1:return null}}function Yn(e){e.hashMap.clear()}function Xn(e){return 0|Tn((function(e){return e.length}),e.hashMap.values(),{GetZero:()=>0,Add:(e,n)=>e+n})}function Zn(e,n,t){const r=zn(e,n);switch(r[0]&&r[2]>-1?0:1){case 0:{let e;throw e=_n(Nn("An item with the same key has already been added. Key: %A"))(n),new Error(e)}case 1:if(r[0]){Kt([n,t],k(e.hashMap,r[1]))}else e.hashMap.set(r[1],[[n,t]])}}function $n(e,n){const t=zn(e,n);switch(t[0]&&t[2]>-1?0:1){case 0:return k(e.hashMap,t[1]).splice(t[2],1),!0;case 1:return!1}}Vn.prototype[Symbol.iterator]=function(){const e=this;return dn(fn(mn((function(){return pn((function(e){return Cn((function(e){return e}),e)}),e.hashMap.values())}))))},Vn.prototype.Add=function(e){Zn(this,e[0],e[1])},Vn.prototype.Clear=function(){Yn(this)},Vn.prototype.Contains=function(e){const n=Jn(this,e[0]);switch(null!=n&&w(n[1],e[1])?0:1){case 0:return!0;case 1:return!1}},Vn.prototype.CopyTo=function(e,n){vn((function(t,r){e[n+t]=r}),this)},Object.defineProperty(Vn.prototype,"Count",{get:function(){return 0|Xn(this)}}),Object.defineProperty(Vn.prototype,"IsReadOnly",{get:function(){return!1}}),Vn.prototype.Remove=function(e){const n=this,t=Jn(n,e[0]);if(null!=t){if(w(t[1],e[1])){$n(n,e[0])}return!0}return!1},Object.defineProperty(Vn.prototype,"size",{get:function(){return 0|Xn(this)}}),Vn.prototype.clear=function(){Yn(this)},Vn.prototype.delete=function(e){return $n(this,e)},Vn.prototype.entries=function(){return Cn((function(e){return e}),this)},Vn.prototype.get=function(e){return function(e,n){const t=Jn(e,n);if(null!=t){return t[1]}throw new Error("The item was not found in collection")}(this,e)},Vn.prototype.has=function(e){return function(e,n){const t=zn(e,n);switch(t[0]&&t[2]>-1?0:1){case 0:return!0;case 1:return!1}}(this,e)},Vn.prototype.keys=function(){return Cn((function(e){return e[0]}),this)},Vn.prototype.set=function(e,n){return function(e,n,t){const r=zn(e,n);switch(r[0]&&r[2]>-1?0:1){case 0:k(e.hashMap,r[1])[r[2]]=[n,t];break;case 1:if(r[0]){Kt([n,t],k(e.hashMap,r[1]))}else e.hashMap.set(r[1],[[n,t]])}}(this,e,n),this},Vn.prototype.values=function(){return Cn((function(e){return e[1]}),this)};const Qn=P((function(e,n,...t){L.call(this,e,n,...t)}),L);function et(e){return function e(n,t){e:for(;;){const r=n,o=t;switch(o.tag){case 1:return r+1|0;case 2:n=e(r+1,o.fields[2]),t=o.fields[3];continue e;default:return 0|r}break}}(0,e)}function nt(e,n,t){e:for(;;){const r=e,o=n,i=t;switch(i.tag){case 1:if(0===(0|r.Compare(o,i.fields[0])))return i.fields[1];throw new Error("key not found");case 2:{const u=0|r.Compare(o,i.fields[0]);if(u<0){e=r,n=o,t=i.fields[2];continue e}if(0===u)return i.fields[1];e=r,n=o,t=i.fields[3];continue e}default:throw new Error("key not found")}break}}function tt(e,n,t){e:for(;;){const r=e,o=n,i=t;switch(i.tag){case 1:return 0===r.Compare(o,i.fields[0]);case 2:{const u=0|r.Compare(o,i.fields[0]);if(u<0){e=r,n=o,t=i.fields[2];continue e}if(0===u)return!0;e=r,n=o,t=i.fields[3];continue e}default:return!1}break}}const rt=P((function(e,n){this.stack=e,this.started=n}),B);function ot(e){for(;;){const n=e;if(null==n.tail)return new O;if(1===n.head.tag)return n;2!==n.head.tag?e=n.tail:e=new O(n.head.fields[2],new O(new Qn(1,"MapOne",n.head.fields[0],n.head.fields[1]),new O(n.head.fields[3],n.tail)))}}function it(e){return new rt(ot(new O(e,new O)),!1)}function ut(e){if(e.started){const n=e.stack;if(null==n.tail)return function(){throw new Error("enumeration already finished")}();if(1===n.head.tag)return[n.head.fields[0],n.head.fields[1]];throw new Error("Please report error: Map iterator, unexpected stack for current")}return function(){throw new Error("enumeration not started")}()}const at=P((function(e){this.s=e,this.i=it(this.s)}));function st(e){return function(e){return this instanceof at?at.call(this,e):new at(e)}(e)}function lt(e){return Rn((function(e){return e.MoveNext()?[e.Current,e]:null}),st(e))}Object.defineProperty(at.prototype,"Current",{get:function(){return ut(this.i)}}),at.prototype.MoveNext=function(){return function(e){if(e.started){const n=e.stack;if(null==n.tail)return!1;if(1===n.head.tag)return e.stack=ot(n.tail),!(null==e.stack.tail);throw new Error("Please report error: Map iterator, unexpected stack for moveNext")}return e.started=!0,!(null==e.stack.tail)}(this.i)},at.prototype.Reset=function(){this.i=it(this.s)},at.prototype.Dispose=function(){};const ct=P((function(e,n){this.comparer=e,this.tree=n}));function ft(e){return e.tree}function dt(e,n){return nt(e.comparer,n,e.tree)}function ht(e){return et(e.tree)}function gt(e,n){return tt(e.comparer,n,e.tree)}ct.prototype.toString=function(){return"map ["+jn("; ",Cn((function(e){return _n(Nn("(%A, %A)"))(e[0])(e[1])}),this))+"]"},ct.prototype.GetHashCode=function(){const e=function(e,n){return(e<<1)+n+631};let n=0;const t=st(ft(this));for(;t.MoveNext();){const r=t.Current;n=e(n,d(r[0])),n=e(n,d(r[1]))}return 0|Math.abs(n)},ct.prototype.Equals=function(e){return 0===this.CompareTo(e)},ct.prototype[Symbol.iterator]=function(){return dn(st(this.tree))},ct.prototype.CompareTo=function(e){const n=this;let t=0,r=!1;const i=st(ft(n));try{const u=st(ft(e));try{for(;!r&&0===t;){const e=[i.MoveNext(),u.MoveNext()];if(e[0])if(e[1]){const e=i.Current,r=u.Current,o=0|n.comparer.Compare(e[0],r[0]);t=0!==o?o:y(e[1],r[1])}else t=1;else e[1]?t=-1:r=!0}return 0|t}finally{o(u)&&u.Dispose()}}finally{o(i)&&i.Dispose()}},Object.defineProperty(ct.prototype,"size",{get:function(){return 0|ht(this)}}),ct.prototype.clear=function(){throw new Error("Map cannot be mutated")},ct.prototype.delete=function(e){throw new Error("Map cannot be mutated")},ct.prototype.entries=function(){return lt(ft(this))},ct.prototype.get=function(e){return dt(this,e)},ct.prototype.has=function(e){return gt(this,e)},ct.prototype.keys=function(){return Cn((function(e){return e[0]}),lt(ft(this)))},ct.prototype.set=function(e,n){throw new Error("Map cannot be mutated")},ct.prototype.values=function(){return Cn((function(e){return e[1]}),lt(ft(this)))};const wt=P((function(e,n){const t=new K(null);this.comparer=n,t.contents=this,this.hashMap=new Map([]),this["init@21-2"]=1,bn((function(e){yt(t.contents,e)}),e)}));function pt(e,n){return this instanceof wt?wt.call(this,e,n):new wt(e,n)}function mt(e,n){const t=0|e.comparer.GetHashCode(n),r=i(e.hashMap,t,null);return r[0]?[!0,t,r[1].findIndex((function(t){return e.comparer.Equals(n,t)}))]:[!1,t,-1]}function Mt(e){e.hashMap.clear()}function It(e){return 0|Tn((function(e){return e.length}),e.hashMap.values(),{GetZero:()=>0,Add:(e,n)=>e+n})}function yt(e,n){const t=mt(e,n);switch(t[0]&&t[2]>-1?0:1){case 0:return!1;case 1:if(t[0]){Kt(n,k(e.hashMap,t[1]));return!0}return e.hashMap.set(t[1],[n]),!0}}function St(e,n){const t=mt(e,n);switch(t[0]&&t[2]>-1?0:1){case 0:return!0;case 1:return!1}}function bt(e,n){const t=mt(e,n);switch(t[0]&&t[2]>-1?0:1){case 0:return k(e.hashMap,t[1]).splice(t[2],1),!0;case 1:return!1}}wt.prototype[Symbol.iterator]=function(){const e=this;return dn(fn(mn((function(){return pn((function(e){return Cn((function(e){return e}),e)}),e.hashMap.values())}))))},wt.prototype.Add=function(e){yt(this,e)},wt.prototype.Clear=function(){Mt(this)},wt.prototype.Contains=function(e){return St(this,e)},wt.prototype.CopyTo=function(e,n){vn((function(t,r){e[n+t]=r}),this)},Object.defineProperty(wt.prototype,"Count",{get:function(){return 0|It(this)}}),Object.defineProperty(wt.prototype,"IsReadOnly",{get:function(){return!1}}),wt.prototype.Remove=function(e){return bt(this,e)},Object.defineProperty(wt.prototype,"size",{get:function(){return 0|It(this)}}),wt.prototype.add=function(e){yt(this,e);return this},wt.prototype.add_=function(e){return yt(this,e)},wt.prototype.clear=function(){Mt(this)},wt.prototype.delete=function(e){return bt(this,e)},wt.prototype.has=function(e){return St(this,e)},wt.prototype.keys=function(){return Cn((function(e){return e}),this)},wt.prototype.values=function(){return Cn((function(e){return e}),this)},wt.prototype.entries=function(){return Cn((function(e){return[e,e]}),this)};const vt=P((function(e,n,...t){L.call(this,e,n,...t)}),L);function Ct(e){return new vt(2,"SetOne",e)}function Dt(e,n,t,r){return new vt(1,"SetNode",e,n,t,r)}const xt=P((function(e,n){this.stack=e,this.started=n}),B);function kt(e){for(;;){const n=e;if(null==n.tail)return new O;if(2===n.head.tag)return n;1!==n.head.tag?e=n.tail:e=new O(n.head.fields[1],new O(Ct(n.head.fields[0]),new O(n.head.fields[2],n.tail)))}}function Tt(e){return new xt(kt(new O(e,new O)),!1)}function Pt(e){if(e.started){const n=e.stack;if(null==n.tail)return function(){throw new Error("Enumeration already started")}();if(2===n.head.tag)return n.head.fields[0];throw new Error("Please report error: Set iterator, unexpected stack for current")}return function(){throw new Error("Enumeration not started")}()}const Rt=P((function(e){this.s=e,this.i=Tt(this.s)}));function Et(e){return function(e){return this instanceof Rt?Rt.call(this,e):new Rt(e)}(e)}function Ot(e,n,t){return 0===n.tag?0===t.tag?0:-1:0===t.tag?1:0|function(e,n,t){e:for(;;){const _=e,H=n,G=t;var r,o,i,u,a,s,l,c,f,d,h,g,w,p,m,M,I,y,S,b,v,C,D,x,k,T,P,R,E,L,W,F,A,B,K,N;switch(null!=H.tail?null!=G.tail?2===G.head.tag?2===H.head.tag?(r=4,u=H.head.fields[0],a=G.head.fields[0],s=H.tail,l=G.tail):1===H.head.tag?0===H.head.fields[1].tag?(r=6,w=H.head.fields[1],p=H.head.fields[0],m=H.head.fields[2],M=G.head.fields[0],I=H.tail,y=G.tail):(r=9,P=H.head.fields[0],R=H.head.fields[1],E=H.head.fields[2],L=H.tail):(r=10,W=G.head.fields[0],F=G.tail):1===G.head.tag?0===G.head.fields[1].tag?2===H.head.tag?(r=5,c=H.head.fields[0],f=G.head.fields[0],d=G.head.fields[2],h=H.tail,g=G.tail):1===H.head.tag?0===H.head.fields[1].tag?(r=7,S=H.head.fields[0],b=H.head.fields[2],v=G.head.fields[0],C=G.head.fields[2],D=H.tail,x=G.tail):(r=9,P=H.head.fields[0],R=H.head.fields[1],E=H.head.fields[2],L=H.tail):(r=11,A=G.head.fields[0],B=G.head.fields[1],K=G.head.fields[2],N=G.tail):2===H.head.tag?(r=8,k=H.head.fields[0],T=H.tail):1===H.head.tag?(r=9,P=H.head.fields[0],R=H.head.fields[1],E=H.head.fields[2],L=H.tail):(r=11,A=G.head.fields[0],B=G.head.fields[1],K=G.head.fields[2],N=G.tail):2===H.head.tag?(r=8,k=H.head.fields[0],T=H.tail):1===H.head.tag?(r=9,P=H.head.fields[0],R=H.head.fields[1],E=H.head.fields[2],L=H.tail):(r=3,o=H.tail,i=G.tail):r=2:r=null!=G.tail?1:0,r){case 0:return 0;case 1:return-1;case 2:return 1;case 3:e=_,n=o,t=i;continue e;case 4:{const r=0|_.Compare(u,a);if(0!==r)return 0|r;e=_,n=s,t=l;continue e}case 5:{const r=0|_.Compare(c,f);if(0!==r)return 0|r;e=_,n=new O(new vt(0,"SetEmpty"),h),t=new O(d,g);continue e}case 6:{const r=0|_.Compare(p,M);if(0!==r)return 0|r;e=_,n=new O(m,I),t=new O(w,y);continue e}case 7:{const r=0|_.Compare(S,v);if(0!==r)return 0|r;e=_,n=new O(b,D),t=new O(C,x);continue e}case 8:e=_,n=new O(new vt(0,"SetEmpty"),new O(Ct(k),T)),t=G;continue e;case 9:e=_,n=new O(R,new O(Dt(P,new vt(0,"SetEmpty"),E,0),L)),t=G;continue e;case 10:e=_,n=H,t=new O(new vt(0,"SetEmpty"),new O(Ct(W),F));continue e;case 11:e=_,n=H,t=new O(B,new O(Dt(A,new vt(0,"SetEmpty"),K,0),N));continue e}break}}(e,new O(n,new O),new O(t,new O))}Object.defineProperty(Rt.prototype,"Current",{get:function(){return Pt(this.i)}}),Rt.prototype.MoveNext=function(){return function(e){if(e.started){const n=e.stack;if(null==n.tail)return!1;if(2===n.head.tag)return e.stack=kt(n.tail),!(null==e.stack.tail);throw new Error("Please report error: Set iterator, unexpected stack for moveNext")}return e.started=!0,!(null==e.stack.tail)}(this.i)},Rt.prototype.Reset=function(){this.i=Tt(this.s)},Rt.prototype.Dispose=function(){};const Lt=P((function(e,n){this.comparer=e,this.tree=n}));function Wt(e){return e.comparer}function Ft(e){return e.tree}function At(e,n){return pt(e,n)}Lt.prototype.toString=function(){return"set ["+jn("; ",Cn((function(e){return String(e)}),this))+"]"},Lt.prototype.GetHashCode=function(){let e=0;const n=Et(Ft(this));for(;n.MoveNext();){e=((0|e)<<1)+(0|d(n.Current))+631}return 0|Math.abs(e)},Lt.prototype.Equals=function(e){return 0===Ot(Wt(this),Ft(this),Ft(e))},Lt.prototype.CompareTo=function(e){return 0|Ot(Wt(this),Ft(this),Ft(e))},Lt.prototype[Symbol.iterator]=function(){return dn(Et(Ft(this)))};function Bt(e,n,t){if(ArrayBuffer.isView(n)){const r=0|n.length,o=new t(r);for(let t=0;t<=r-1;t++)o[t]=e(n[t]);return o}return n.map((function(n){return e(n)}))}function Kt(e,n){n.push(e)}function Nt(e,n){return n.from(e)}function _t(e,n){return n.from(e)}function Ht(e,n,t){return function(e,n,t,r){for(;;){const o=e,i=n,u=t,a=r;if(null==a.tail)return u;e=o,n=i+1,t=o(i,u,a.head),r=a.tail}}(e,0,n,t)}function Gt(e,n,t){for(;;){const r=e,o=n,i=t;if(null==i.tail)return o;e=r,n=r(o,i.head),t=i.tail}}function jt(e){return Gt((function(e,n){return new O(n,e)}),new O,e)}function qt(e,n,t){return Gt((function(n,t){return e(t,n)}),t,jt(n))}function Ut(e){return jt(yn((function(e,n){return new O(n,e)}),new O,e))}function Vt(e){return Gt((function(e,n){return e+1}),0,e)}function zt(e,n){return Gt((function(e,n){return new O(n,e)}),n,jt(e))}function Jt(e,n){return jt(Gt((function(n,t){return new O(e(t),n)}),new O,n))}function Yt(e,n){return jt(Ht((function(n,t,r){return new O(e(n,r),t)}),new O,n))}function Xt(e,n){Gt((function(n,t){e(t)}),null,n)}function Zt(e,n){Ht((function(n,t,r){e(n,r)}),null,n)}function $t(e){let n=new O;for(let t=function(e){if(r(e))return e.length;{let n=0;for(const t of e)n++;return n}}(e)-1;t>=0;t--)n=new O(e[t],n);return n}function Qt(e,n){return function(e,n,t){e:for(;;){const r=e,o=n,i=t;if(null!=i.tail){const u=r(o,i.head);if(null==u){e=r,n=o+1,t=i.tail;continue e}return u}return null}}(e,0,n)}function er(e,n){return Qt((function(n,t){return e(t)?$(t):null}),n)}function nr(e,n){return jt(Gt((function(n,t){return e(t)?new O(t,n):n}),new O,n))}function tr(e,n){if(null!=n.tail)return Gt(e,n.head,n.tail);throw new Error("List was empty")}function rr(e,n){return Gt((function(n,t){return!!n&&e(t)}),!0,n)}function or(e,n){for(;;){const t=e,r=n;if(null==r.tail)return!1;if(t(r.head))return!0;e=t,n=r.tail}}function ir(e,n,t){let r;const o=_t(n,Array);return o.sort((function(n,r){return-1*t.Compare(e(n),e(r))})),r=o,$t(r)}function ur(e,n,t){const r=At([],t);return nr((function(n){return u(e(n),r)}),n)}Math.fround(320),Math.fround(256);const ar=Math.fround(12),sr=Math.fround(12),lr=Math.fround(8),cr=Math.fround(10),fr=Math.fround(8),dr=Math.fround(6),hr=Math.fround(12),gr=sr+Math.fround(2),wr=Math.fround(1),pr=Math.fround(10),mr=Math.fround(8),Mr=Math.fround(.8999999761581421),Ir=Math.fround(.8999999761581421),yr=Math.fround(.44999998807907104),Sr=Math.fround(4),br=Math.fround(1),vr=Math.fround(2),Cr=Math.fround(3),Dr=Math.fround(20),xr=Math.fround(4),kr=Math.fround(2),Tr=Math.fround(5),Pr=Math.fround(2),Rr=Math.fround(5),Er=Rr+Math.fround(15),Or=br*Math.fround(4),Lr=Math.fround(5),Wr=Math.fround(8),Fr=Math.fround(20),Ar=Math.fround(6),Br=Math.fround(12),Kr=Math.fround(4),Nr=P((function(e,n,t){this.RetroScreenTitle=e,this.RetroScreenWidth=n,this.RetroScreenHeight=t}),B);const _r=P((function(e,n,...t){L.call(this,e,n,...t)}),L);const Hr=P((function(e,n,t,r){this.ImageFileName=e,this.ImageTransparency=n,this.ImageWidth=t,this.ImageHeight=r}),B);const Gr=P((function(e,n,...t){L.call(this,e,n,...t)}),L);const jr=P((function(e,n,...t){L.call(this,e,n,...t)}),L);const qr=P((function(e,n){this.ImageMetadata=e,this.HostImageRef=n}),B);const Ur=P((function(e,n){this.FontImageMetadata=e,this.FontCharWidth=0|n}),B);const Vr=P((function(e,n,...t){L.call(this,e,n,...t)}),L);const zr=P((function(e,n,t,r,o,i,u){this.FontImage=e,this.MagnifyX=0|n,this.MagnifyY=0|t,this.SrcCharWidth=0|r,this.SrcCharHeight=0|o,this.CharWidth=0|i,this.CharHeight=0|u}),B);const Jr=P((function(e,n,...t){L.call(this,e,n,...t)}),L);const Yr=P((function(e,n,...t){L.call(this,e,n,...t)}),L);function Xr(e,n,t,r){const o=0|r.FontImage.ImageMetadata.ImageHeight;return new zr(r.FontImage,n,t,e,o,n*e,t*o)}const Zr=P((function(e){this.SoundFileName=e}),B);const $r=P((function(e,n,...t){L.call(this,e,n,...t)}),L);const Qr=P((function(e,n,...t){L.call(this,e,n,...t)}),L);const eo=P((function(e,n){this.SoundMetadata=e,this.HostSoundRef=n}),B);const no=P((function(e,n,...t){L.call(this,e,n,...t)}),L);function to(e,n,t,r){return new Hr(n,e,t,r)}const ro=new O((oo="Font.png",io=222,uo=6,ao=8,new Ur(to(new _r(1,"MagentaColourKeyImage"),oo,io,ao),uo)),new O);var oo,io,uo,ao;const so=$t([to(new _r(0,"OpaqueImage"),"Background.png",320,256),to(new _r(0,"OpaqueImage"),"Background2.png",320,256),to(new _r(1,"MagentaColourKeyImage"),"Bullet.png",4,4),to(new _r(1,"MagentaColourKeyImage"),"Dead.png",18,14),to(new _r(1,"MagentaColourKeyImage"),"Electrocution_1.png",14,18),to(new _r(1,"MagentaColourKeyImage"),"Electrocution_2.png",14,18),to(new _r(1,"MagentaColourKeyImage"),"Explosion_1.png",14,10),to(new _r(1,"MagentaColourKeyImage"),"Explosion_2.png",14,10),to(new _r(1,"MagentaColourKeyImage"),"Explosion_3.png",14,10),to(new _r(1,"MagentaColourKeyImage"),"FacingDown.png",14,18),to(new _r(1,"MagentaColourKeyImage"),"FacingLeft.png",14,18),to(new _r(1,"MagentaColourKeyImage"),"FacingLeftDown.png",14,18),to(new _r(1,"MagentaColourKeyImage"),"FacingLeftUp.png",14,18),to(new _r(1,"MagentaColourKeyImage"),"FacingRight.png",14,18),to(new _r(1,"MagentaColourKeyImage"),"FacingRightDown.png",14,18),to(new _r(1,"MagentaColourKeyImage"),"FacingRightUp.png",14,18),to(new _r(1,"MagentaColourKeyImage"),"FacingUp.png",14,18),to(new _r(1,"MagentaColourKeyImage"),"FloorTile_1.png",12,8),to(new _r(1,"MagentaColourKeyImage"),"FloorTile_2.png",12,8),to(new _r(1,"MagentaColourKeyImage"),"FloorTile_3.png",12,8),to(new _r(1,"MagentaColourKeyImage"),"Ghost.png",15,14),to(new _r(1,"MagentaColourKeyImage"),"GhostStunned.png",15,14),to(new _r(1,"MagentaColourKeyImage"),"Gold.png",9,14),to(new _r(1,"MagentaColourKeyImage"),"InvincibilityAmulet.png",14,14),to(new _r(1,"MagentaColourKeyImage"),"Key.png",8,12),to(new _r(0,"OpaqueImage"),"LevelExit.png",12,16),to(new _r(1,"MagentaColourKeyImage"),"Life.png",6,8),to(new _r(1,"MagentaColourKeyImage"),"Monster1_1.png",14,10),to(new _r(1,"MagentaColourKeyImage"),"Monster1_2.png",14,10),to(new _r(1,"MagentaColourKeyImage"),"Monster2_1.png",14,10),to(new _r(1,"MagentaColourKeyImage"),"Monster2_2.png",14,10),to(new _r(1,"MagentaColourKeyImage"),"Monster3.png",14,10),to(new _r(1,"MagentaColourKeyImage"),"Monster4_1.png",14,10),to(new _r(1,"MagentaColourKeyImage"),"Monster4_2.png",14,10),to(new _r(1,"MagentaColourKeyImage"),"Monster5_1.png",10,10),to(new _r(1,"MagentaColourKeyImage"),"Monster5_2.png",10,10),to(new _r(0,"OpaqueImage"),"Paused.png",80,24),to(new _r(1,"MagentaColourKeyImage"),"Potion_1.png",12,12),to(new _r(1,"MagentaColourKeyImage"),"Potion_2.png",12,12),to(new _r(1,"MagentaColourKeyImage"),"Ring.png",14,10),to(new _r(1,"MagentaColourKeyImage"),"WalkingDown_1.png",14,18),to(new _r(1,"MagentaColourKeyImage"),"WalkingDown_2.png",14,18),to(new _r(1,"MagentaColourKeyImage"),"WalkingLeftDown_1.png",14,18),to(new _r(1,"MagentaColourKeyImage"),"WalkingLeftDown_2.png",14,18),to(new _r(1,"MagentaColourKeyImage"),"WalkingLeftUp_1.png",14,18),to(new _r(1,"MagentaColourKeyImage"),"WalkingLeftUp_2.png",14,18),to(new _r(1,"MagentaColourKeyImage"),"WalkingLeft_1.png",14,18),to(new _r(1,"MagentaColourKeyImage"),"WalkingLeft_2.png",14,18),to(new _r(1,"MagentaColourKeyImage"),"WalkingRightDown_1.png",14,18),to(new _r(1,"MagentaColourKeyImage"),"WalkingRightDown_2.png",14,18),to(new _r(1,"MagentaColourKeyImage"),"WalkingRightUp_1.png",14,18),to(new _r(1,"MagentaColourKeyImage"),"WalkingRightUp_2.png",14,18),to(new _r(1,"MagentaColourKeyImage"),"WalkingRight_1.png",14,18),to(new _r(1,"MagentaColourKeyImage"),"WalkingRight_2.png",14,18),to(new _r(1,"MagentaColourKeyImage"),"WalkingUp_1.png",14,18),to(new _r(1,"MagentaColourKeyImage"),"WalkingUp_2.png",14,18),to(new _r(0,"OpaqueImage"),"WallBrick_1.png",12,8),to(new _r(0,"OpaqueImage"),"WallBrick_2.png",12,8),to(new _r(0,"OpaqueImage"),"WallBrick_3.png",12,8),to(new _r(0,"OpaqueImage"),"WallBrick_4.png",12,8),to(new _r(0,"OpaqueImage"),"WallBrick_5.png",12,8),to(new _r(0,"OpaqueImage"),"WallBrick_6.png",12,8),to(new _r(0,"OpaqueImage"),"WallBrick_7.png",12,8),to(new _r(0,"OpaqueImage"),"WallBrick_8.png",12,8),to(new _r(0,"OpaqueImage"),"WallElectric.png",12,8),to(new _r(0,"OpaqueImage"),"WallOutline_1.png",12,8),to(new _r(0,"OpaqueImage"),"WallOutline_2.png",12,8),to(new _r(0,"OpaqueImage"),"WallOutline_3.png",12,8)]),lo=$t([new Zr("BonusSound.ogg"),new Zr("DroidFiringSound.ogg"),new Zr("DuoBonusSound.ogg"),new Zr("ElectrocutionSound.ogg"),new Zr("EnteringLevelSound.ogg"),new Zr("ExplosionSound.ogg"),new Zr("ExtraLifeSound.ogg"),new Zr("Footstep1Sound.ogg"),new Zr("Footstep2Sound.ogg"),new Zr("GameOverSound_1.ogg"),new Zr("GameOverSound_2.ogg"),new Zr("GameOverSound_3.ogg"),new Zr("GameOverSound_4.ogg"),new Zr("GhostAppearingSound.ogg"),new Zr("IntroSound.ogg"),new Zr("InvincibilityAmuletSound.ogg"),new Zr("LevelExitActivatedSound.ogg"),new Zr("ManFiringSound.ogg"),new Zr("ManGruntSound_1.ogg"),new Zr("ManGruntSound_2.ogg"),new Zr("PauseModeSound.ogg"),new Zr("PickUpObjectSound.ogg"),new Zr("StunGhostSound.ogg")]),co=P((function(e,n){this.NewPlayerName=e,this.NewPlayerScore=n}),B);const fo=P((function(e,n,t){this.PlayerName=e,this.PlayerScore=n,this.PlayerScoreString=t}),B);function ho(e){return e.PlayerScore}function go(e){let n;var t,r;return t=ho,r={Compare:m},n=tr((function(e,n){return r.Compare(t(n),t(e))>0?n:e}),e),ho(n)}function wo(e,n){if(w(e,new O))return!1;{let o,i;return t=ho,r={Compare:m},i=tr((function(e,n){return r.Compare(t(n),t(e))>0?e:n}),e),o=ho(i),n>=o}var t,r}function po(e,n){if(wo(n,e.NewPlayerScore)){let t,r;return r=function(e,n,t){let r;const o=_t(n,Array);return o.sort((function(n,r){return t.Compare(e(n),e(r))})),r=o,$t(r)}(ho,new O(new fo(e.NewPlayerName.trim(),e.NewPlayerScore,e.NewPlayerScore.toString()),n),{Compare:m}),t=function(e){if(null!=e.tail)return e.tail;throw new Error("List was empty")}(r),ir(ho,t,{Compare:m})}return n}function mo(e,n){return Jt((function(n){return function(e,n,t){const r=(0|e.length)+(0|n.length)+2|0;return r>t?"":e+" "+Gn(t-r|0,(function(e){return"."}))+" "+n}(n.PlayerName,n.PlayerScoreString,e)}),n)}const Mo=P((function(e,n){this.Score=e,this.HiScore=n}),B);function Io(e,n){if(0!==e){const t=n.Score+e;return new Mo(t,b(m,t,n.HiScore))}return n}const yo=P((function(e,n,t,r){this.Name=e,this.SelectorIndex=0|n,this.MaxNameLength=0|t,this.Complete=r}),B);const So=P((function(e,n,...t){L.call(this,e,n,...t)}),L);const bo="ABCDEFGHIJKLMNOPQRSTUVWXYZ .X ";function vo(e,n){const t=bo.length-1|0,r=t-1|0;switch(e.tag){case 1:{const e=0|(n.SelectorIndex===t?0:n.SelectorIndex+1);return new yo(n.Name,e,n.MaxNameLength,n.Complete)}case 2:{const e=n.Name.length===n.MaxNameLength,t=e?n.Name:n.SelectorIndex===r?0===n.Name.length?n.Name:Un(n.Name,0,n.Name.length-1):n.Name+bo[n.SelectorIndex];return new yo(t,n.SelectorIndex,n.MaxNameLength,e)}default:{const e=0|(0===n.SelectorIndex?t:n.SelectorIndex-1);return new yo(n.Name,e,n.MaxNameLength,n.Complete)}}}function Co(e,n){const t=0|e.length,r=n-(0|~~(t/2))|0,o=0|(r<0?r+t:r);return Un(e,o)+Un(e,0,o)}function Do(e){return $t(["ENTER YOUR NAME","","",(n=e.Name,t=e.MaxNameLength,r=".",qn(n,t,r,!0)),"",""," V",Co(bo,e.SelectorIndex)]);var n,t,r}const xo=P((function(){}));function ko(){return this instanceof xo?xo.call(this):new xo}const To=P((function(e,n,t,r){ko.call(this),this["Model@"]=e,this["DrawFunc@"]=n,this["FrameFunc@"]=t,this["SoundEffectCommands@"]=r}),xo);function Po(e,n,t,r){return this instanceof To?To.call(this,e,n,t,r):new To(e,n,t,r)}function Ro(e){return e["Model@"]}function Eo(e){return D(3,e["DrawFunc@"])}function Oo(e){return D(4,e["FrameFunc@"])}function Lo(e){return e["SoundEffectCommands@"]}function Wo(e){return null==Lo(e).tail?e:Po(Ro(e),C(3,Eo(e)),C(4,Oo(e)),new O)}function Fo(e,n,t,r){return Wo(e)}function Ao(e,n){return Po(null,(function(e,t,r){n.Draw(e,r)}),(function(e,t,r,o){return n.Frame(t,r,o)}),e)}To.prototype.Draw=function(e,n){Eo(this)(e)(Ro(this))(n)},To.prototype.Frame=function(e,n,t){return Oo(this)(this)(e)(n)(t)},To.prototype.Sounds=function(){return Lo(this)};const Bo=v([]),Ko=v([]),No=v([]);const _o=new Vr(0,"FontID",0),Ho=new Gr(0,"ImageID",0),Go=new Gr(0,"ImageID",1),jo=new Gr(0,"ImageID",2),qo=new Gr(0,"ImageID",3),Uo=new Gr(0,"ImageID",4),Vo=new Gr(0,"ImageID",5),zo=new Gr(0,"ImageID",6),Jo=new Gr(0,"ImageID",7),Yo=new Gr(0,"ImageID",8),Xo=new Gr(0,"ImageID",9),Zo=new Gr(0,"ImageID",10),$o=new Gr(0,"ImageID",11),Qo=new Gr(0,"ImageID",12),ei=new Gr(0,"ImageID",13),ni=new Gr(0,"ImageID",14),ti=new Gr(0,"ImageID",15),ri=new Gr(0,"ImageID",16),oi=new Gr(0,"ImageID",17),ii=(new Gr(0,"ImageID",18),new Gr(0,"ImageID",19),new Gr(0,"ImageID",20)),ui=new Gr(0,"ImageID",21),ai=new Gr(0,"ImageID",22),si=new Gr(0,"ImageID",23),li=new Gr(0,"ImageID",24),ci=new Gr(0,"ImageID",25),fi=new Gr(0,"ImageID",26),di=new Gr(0,"ImageID",27),hi=new Gr(0,"ImageID",28),gi=new Gr(0,"ImageID",29),wi=new Gr(0,"ImageID",30),pi=new Gr(0,"ImageID",31),mi=new Gr(0,"ImageID",32),Mi=new Gr(0,"ImageID",33),Ii=new Gr(0,"ImageID",34),yi=new Gr(0,"ImageID",35),Si=(new Gr(0,"ImageID",36),new Gr(0,"ImageID",37)),bi=(new Gr(0,"ImageID",38),new Gr(0,"ImageID",39)),vi=new Gr(0,"ImageID",40),Ci=new Gr(0,"ImageID",41),Di=new Gr(0,"ImageID",42),xi=new Gr(0,"ImageID",43),ki=new Gr(0,"ImageID",44),Ti=new Gr(0,"ImageID",45),Pi=new Gr(0,"ImageID",46),Ri=new Gr(0,"ImageID",47),Ei=new Gr(0,"ImageID",48),Oi=new Gr(0,"ImageID",49),Li=new Gr(0,"ImageID",50),Wi=new Gr(0,"ImageID",51),Fi=new Gr(0,"ImageID",52),Ai=new Gr(0,"ImageID",53),Bi=new Gr(0,"ImageID",54),Ki=new Gr(0,"ImageID",55),Ni=new Gr(0,"ImageID",56),_i=(new Gr(0,"ImageID",57),new Gr(0,"ImageID",58),new Gr(0,"ImageID",59),new Gr(0,"ImageID",60),new Gr(0,"ImageID",61),new Gr(0,"ImageID",62),new Gr(0,"ImageID",63),new Gr(0,"ImageID",64)),Hi=new Gr(0,"ImageID",65),Gi=new Gr(0,"ImageID",66),ji=(new Gr(0,"ImageID",67),new $r(0,"SoundID",0)),qi=new $r(0,"SoundID",1),Ui=new $r(0,"SoundID",2),Vi=new $r(0,"SoundID",3),zi=new $r(0,"SoundID",4),Ji=new $r(0,"SoundID",5),Yi=new $r(0,"SoundID",6),Xi=new $r(0,"SoundID",7),Zi=new $r(0,"SoundID",8),$i=new $r(0,"SoundID",9),Qi=new $r(0,"SoundID",10),eu=new $r(0,"SoundID",11),nu=new $r(0,"SoundID",12),tu=new $r(0,"SoundID",13),ru=(new $r(0,"SoundID",14),new $r(0,"SoundID",15)),ou=new $r(0,"SoundID",16),iu=new $r(0,"SoundID",17),uu=new $r(0,"SoundID",18),au=new $r(0,"SoundID",19),su=(new $r(0,"SoundID",20),new $r(0,"SoundID",21)),lu=new $r(0,"SoundID",22),cu=P((function(e,n,...t){L.call(this,e,n,...t)}),L);const fu=P((function(e,n,...t){L.call(this,e,n,...t)}),L);function du(e,n,t,r){return e(new fu(0,"DrawImageWithTopLeftAtInt",n,t,r))}function hu(e,n,t,r){let o;o=[r.ImageMetadata.ImageWidth,r.ImageMetadata.ImageHeight];const i=n-(0|~~(o[0]/2)),u=t-(0|~~(o[1]/2));return e(new fu(2,"DrawStretchedImageWithTopLeftAt",i,u,r,o[0],o[1]))}function gu(e,n,t,r,o,i){return e(new fu(1,"DrawFilledRectangle",n,t,r,o,i))}function wu(e,n,t,r,o){const i=~~r*o.SrcCharWidth|0;return e(new fu(3,"DrawSubImageStretchedToTarget",i,0,o.SrcCharWidth,o.SrcCharHeight,n,t,o.CharWidth,o.CharHeight,o.FontImage))}function pu(e,n,t,r,o,i,u){!function(e,n,t,r,o,i,u,a){const s=function(e){return e.length*n};let l=0|(1===u.tag?r-~~(s(i)/2):2===u.tag?r-s(i):r);const c=0|(1===a.tag?o-~~(t/2):2===a.tag?o-t:o);bn((function(t){const r=function(n){e(n,l,c)};t>="0"&&t<="9"?r(t.charCodeAt(0)-48):t>="A"&&t<="Z"?r(t.charCodeAt(0)-55):t>="a"&&t<="z"?r(t.charCodeAt(0)-87):"."===t&&r(36),l+=n}),i.split(""))}((function(t,r,o){wu(e,r,o,t>>>0,n)}),n.CharWidth,n.CharHeight,o,i,u,t,r)}function mu(e,n,t,r,o,i,u,a){if(null==a.tail);else{let s;s=n.CharHeight;const l=0|b(m,s,u),c=(Vt(a)-1)*l+s|0,f=0|(1===r.tag?i-~~(c/2):2===r.tag?i-c:i);Zt((function(r,i){const u=f+l*r|0;pu(e,n,t,new Yr(0,"TopAlign"),o,u,i)}),a)}}new J(0,"WebBrowserKeyCode",38),new J(0,"WebBrowserKeyCode",40);const Mu=new J(0,"WebBrowserKeyCode",37),Iu=new J(0,"WebBrowserKeyCode",39),yu=new J(0,"WebBrowserKeyCode",90),Su=P((function(e,n){this.ScoreAndHiScore=e,this.Lives=n}),B);const bu=Math.fround(5),vu=(Math.fround(3),Math.fround(3),Math.fround(.25)),Cu=P((function(e,n,t,r,o){this.Scoreboard=e,this.ScoreAndHiScore=n,this.EnterYourNameModel=t,this.MemoizedText=r,this.WhereToAfterCtor=o}),B);function Du(e,n,t){let r;var o,i,u,a,s,l,c,f;r=Bo()[Go.fields[0]],du(e,0,0,r),o=e,i=_o,u=new Jr(1,"CentreAlign"),a=new Yr(1,"MiddleAlign"),s=160,l=100,c=10,f=n.MemoizedText,mu(o,Ko()[i.fields[0]],u,a,s,l,c,f)}function xu(e,n,t,r){const o=Ro(e),i=function(e,n){const t=n(yu),r=n(Mu),o=n(Iu);return t.JustDown?vo(new So(2,"SelectLetter"),e):r.JustDown?vo(new So(0,"RotateLeft"),e):o.JustDown?vo(new So(1,"RotateRight"),e):null}(o.EnterYourNameModel,n);if(null!=i){const n=i;if(n.Complete){let e;u=n,a=o.ScoreAndHiScore.Score,s=o.Scoreboard,e=po(new co(u.Name,a),s);const r=o.WhereToAfterCtor(e,t);return Ao(new O(new no(0,"PlaySoundEffect",No()[ji.fields[0]]),new O),r)}{const t=new Cu(o.Scoreboard,o.ScoreAndHiScore,n,Do(n),o.WhereToAfterCtor),r=new O(new no(0,"PlaySoundEffect",No()[Xi.fields[0]]),new O),i=Oo(e);return Po(t,C(3,Eo(e)),C(4,i),r)}}return Wo(e);var u,a,s}function ku(e,n,t,r){if(wo(n,e.Score)){const r=new yo("",0,10,!1);return Po(new Cu(n,e,r,Do(r),t),Du,xu,new O)}return t(n,r)}const Tu=P((function(e){this.ScoreMemo=e}),B);function Pu(e,n,t){let r,o,i,u;r=Bo()[Go.fields[0]],du(e,0,0,r),o=160,i=102,u=153;const a=Ko()[_o.fields[0]];pu(e,Xr(6,3,5,a),new Jr(1,"CentreAlign"),new Yr(1,"MiddleAlign"),160,102,"GAME OVER"),pu(e,a,new Jr(1,"CentreAlign"),new Yr(1,"MiddleAlign"),160,153,n.ScoreMemo)}const Ru=P((function(e,n){this.ptx=e,this.pty=n}),B);const Eu=P((function(e,n){this.modx=e,this.mody=n}),B);const Ou=P((function(e,n,t,r){this.Left=e,this.Top=n,this.Right=t,this.Bottom=r}),B);const Lu=P((function(e,n){this.dimx=e,this.dimy=n}),B);const Wu=P((function(e,n,...t){L.call(this,e,n,...t)}),L);function Fu(e,n,t){const r=n(t);let o;return o=er((function(e){const t=n(e);return w(r,t)}),e),null==o}function Au(e,n){return rr(e,n)?n:nr(e,n)}function Bu(e,n){let t=n;const r=0|e.length,o=function(e,n,t){if(e<0)throw new Error("The input must be non-negative\\nParameter name: count");const r=new t(e);for(let t=0;t<=e-1;t++)r[t]=n(t);return r}(r,(function(e){return e}),Int32Array);return[mn((function(){return pn((function(n){t=function(e){const n=(e.fields[0]^e.fields[0]<<13>>>0)>>>0,t=(n^n>>>17)>>>0;return new Wu(0,"XorShift32State",(t^t<<5>>>0)>>>0)}(t);const r=0|~~(t.fields[0]%(n+1>>>0));return gn(kn(e[o[r]]),mn((function(){const e=0|o[r];return o[r]=o[n],o[n]=e,Mn()})))}),xn(r-1,-1,0))})),t]}const Ku=P((function(e,n,...t){L.call(this,e,n,...t)}),L);function Nu(e,n,t,r,o){const i=(t.ptx-n.ptx)/o,u=(t.pty-n.pty)/o;return function(t){const a=t-r;if(a>=Math.fround(0)){if(a<=o){const t=e(a,o),r=n.ptx+i*t,s=n.pty+u*t;return new Ku(1,"MOMVisibleAtPosition",new Ru(r,s))}return new Ku(2,"MOMDisappeared")}return new Ku(0,"MOMYetToAppear")}}const _u=P((function(e,n,t,r){this.PositionGetter=e,this.StartPosition=n,this.FinalPosition=t,this.EndGameTime=r}),B);function Hu(e,n,t){return new _u(function(e,n,t){const r=n+t;return function(t){return t>=n?t<=r?new Ku(1,"MOMVisibleAtPosition",e):new Ku(2,"MOMDisappeared"):new Ku(0,"MOMYetToAppear")}}(e,n,t),e,e,n+t)}function Gu(e,n){return e<=n.EndGameTime}function ju(e,n){return function(t){return n(1===t.tag?new fu(1,"DrawFilledRectangle",t.fields[0]+e.ptx,t.fields[1]+e.pty,t.fields[2],t.fields[3],t.fields[4]):2===t.tag?new fu(2,"DrawStretchedImageWithTopLeftAt",e.ptx+(0|~~(t.fields[0]+Math.fround(.5)))|0,e.pty+(0|~~(t.fields[1]+Math.fround(.5)))|0,t.fields[2],t.fields[3],t.fields[4]):3===t.tag?new fu(3,"DrawSubImageStretchedToTarget",t.fields[0],t.fields[1],t.fields[2],t.fields[3],e.ptx+(0|~~(t.fields[4]+Math.fround(.5)))|0,e.pty+(0|~~(t.fields[5]+Math.fround(.5)))|0,t.fields[6],t.fields[7],t.fields[8]):new fu(0,"DrawImageWithTopLeftAtInt",t.fields[0]+e.ptx,t.fields[1]+e.pty,t.fields[2]))}}const qu=P((function(e,n,...t){L.call(this,e,n,...t)}),L);const Uu=P((function(e,n){this.SecondScreenRelativePosition=e,this.PositionFunction=n}),B);const Vu=P((function(e,n,t){this.SlideTransitionModel2=e,this.FromScreenState=n,this.ToScreenState=t}),B);function zu(e,n,t){const r=n.SlideTransitionModel2.PositionFunction(t);switch(r.tag){case 1:{let o;const i=function(e){let n;return n=~~(e+Math.fround(.5)),0|n};let u,a,s;o=new Ru(i(r.fields[0].ptx),i(r.fields[0].pty)),u=ju(o,e),n.FromScreenState.Draw(u,t),s=new Ru(o.ptx+n.SlideTransitionModel2.SecondScreenRelativePosition.ptx,o.pty+n.SlideTransitionModel2.SecondScreenRelativePosition.pty),a=ju(s,e),n.ToScreenState.Draw(a,t);break}}}function Ju(e,n,t,r){const o=Ro(e);if(2===o.SlideTransitionModel2.PositionFunction(t).tag)return o.ToScreenState;{let i,u;i=o.FromScreenState.Frame(n,t,r),u=o.ToScreenState.Frame(n,t,r);const a=new Vu(o.SlideTransitionModel2,i,u),s=Oo(e);return Po(a,C(3,Eo(e)),C(4,s),new O)}}function Yu(e,n,t,r,o,i,u,a){const s=function(e,n,t){switch(e.tag){case 1:return new Ru(0,t);case 2:return new Ru(he(n),0);case 3:return new Ru(n,0);default:return new Ru(0,he(t))}}(t,r,o),l=new Ru(Math.fround(0),Math.fround(0));let c,f;f=new Ru(he(s.ptx),he(s.pty));c=new Ru(f.ptx,f.pty);const d=new Uu(s,Nu(i,l,c,a,u));return Po(new Vu(d,e,n),zu,Ju,new O)}const Xu=P((function(e,n,t,r){this.FrozenGameState=e,this.TimeFiddler=n,this.UnfreezeGameTime=t,this.PostFreezeCtor=r}),B);function Zu(e,n,t){const r=n.TimeFiddler(t);n.FrozenGameState.Draw(e,r)}function $u(e,n,t,r){const o=Ro(e);return t<o.UnfreezeGameTime?Wo(e):o.PostFreezeCtor((i=o.FrozenGameState,Po(null,(function(e,n,t){i.Draw(e,t)}),Fo,new O)),t);var i}function Qu(e){switch(e){case 0:return[-1,0];case 1:return[-1,-1];case 2:return[0,-1];case 3:return[1,-1];case 4:return[1,0];case 5:return[1,1];case 6:return[0,1];case 7:return[-1,1];default:throw new Error("Cannot map DeltasForEightWayDirection")}}const ea=P((function(e,n,t,r){this.TilesHorizontally=0|e,this.TilesVertically=0|n,this.TileWidthPixels=t,this.TileHeightPixels=r}),B);const na=P((function(e,n,t,r){this.WindowLeft=e,this.WindowTop=n,this.WindowWidth=t,this.WindowHeight=r}),B);const ta=P((function(e,n){this.OffsetX=e,this.OffsetY=n}),B);function ra(e,n,t,r){const o=function(e,n){if(n<=0){const t=0|~~(he(n)/e);return[n+e*t|0,t]}return[n,0]},i=o(e.TileWidthPixels,t.OffsetX),u=o(e.TileHeightPixels,t.OffsetY);if(n.WindowWidth>0&&n.WindowHeight>0){const t=n.WindowLeft+n.WindowWidth|0,o=n.WindowTop+n.WindowHeight|0;let a=n.WindowTop+u[0]|0,s=0|u[1];for(;a<o&&s<e.TilesVertically;){let o=n.WindowLeft+i[0]|0,u=0|i[1];for(;o<t&&u<e.TilesHorizontally;)r(o,a,u,s),o+=e.TileWidthPixels,u+=1;a+=e.TileHeightPixels,s+=1}}}const oa=P((function(e,n,...t){L.call(this,e,n,...t)}),L);const ia=P((function(e,n,t,r){this.FlickBookDuration=e,this.FlickBookImages=n,this.VisibilityBeforeStart=t,this.VisibilityAfterEnd=r}),B);const ua=P((function(e,n,t){this.FlickBookType=e,this.FlickBookStartTime=n,this.FlickBookMechanicsObject=t}),B);function aa(e,n,t){return Au((function(t){return r=e,o=n(t),Gu(r,o.FlickBookMechanicsObject);var r,o}),t)}function sa(e,n,t,r){Xt((function(t){!function(e,n,t){const r=t-n.FlickBookStartTime,o=0|n.FlickBookType.FlickBookImages.length,i=n.FlickBookMechanicsObject.PositionGetter(t);switch(i.tag){case 1:{const t=n.FlickBookType.FlickBookDuration/o,u=0|Math.abs(~~(r/t));u<o&&hu(e,i.fields[0].ptx,i.fields[0].pty,n.FlickBookType.FlickBookImages[u]);break}case 2:w(n.FlickBookType.VisibilityAfterEnd,new oa(0,"Visible"))&&o>0&&hu(e,n.FlickBookMechanicsObject.FinalPosition.ptx,n.FlickBookMechanicsObject.FinalPosition.pty,n.FlickBookType.FlickBookImages[n.FlickBookType.FlickBookImages.length-1]);break;default:w(n.FlickBookType.VisibilityBeforeStart,new oa(0,"Visible"))&&o>0&&hu(e,n.FlickBookMechanicsObject.StartPosition.ptx,n.FlickBookMechanicsObject.StartPosition.pty,n.FlickBookType.FlickBookImages[0])}}(e,n(t),r)}),t)}const la=P((function(e,n,...t){L.call(this,e,n,...t)}),L);const ca=P((function(e,n,...t){L.call(this,e,n,...t)}),L);const fa=P((function(e,n,...t){L.call(this,e,n,...t)}),L);const da=P((function(e,n,...t){L.call(this,e,n,...t)}),L);const ha=P((function(e,n,...t){L.call(this,e,n,...t)}),L);const ga=P((function(e,n,...t){L.call(this,e,n,...t)}),L);const wa=P((function(e,n){this.BulletCentrePosition=e,this.BulletDirection=n}),B);const pa=P((function(e,n,...t){L.call(this,e,n,...t)}),L);const ma=P((function(e,n,...t){L.call(this,e,n,...t)}),L);const Ma=P((function(e,n,t){this.InteractibleRoom=e,this.InteractibleType=n,this.InteractibleCentrePosition=t}),B);const Ia=P((function(e,n,...t){L.call(this,e,n,...t)}),L);const ya=P((function(e,n){this.ManState=e,this.ManCentrePosition=n}),B);const Sa=P((function(e,n){this.ManStartFacingDirection=e,this.ManStartPosition=n}),B);const ba=P((function(e,n,...t){L.call(this,e,n,...t)}),L);const va=P((function(e,n,...t){L.call(this,e,n,...t)}),L);const Ca=P((function(e,n,t){this.DroidIdentity=e,this.DroidType=n,this.DroidCentrePosition=t}),B);const Da=P((function(e,n,...t){L.call(this,e,n,...t)}),L);const xa=P((function(e,n,t,r,o,i,u){this.BrickStyles=e,this.ManFacingStyles=n,this.ManWalkingStyles1=t,this.ManWalkingStyles2=r,this.DroidStyles1=o,this.DroidStyles2=i,this.InteractibleObjectImages=u}),B);const ka=P((function(e,n,t){this.LevelIndex=e,this.LevelTileMatrix=n,this.TileMatrixTraits=t}),B);const Ta=P((function(e,n){this.RoomOrigin=e,this.LevelModel=n}),B);const Pa=P((function(e,n,t,r,o,i,u,a,s){this.RoomReference=e,this.ManStartPositionInRoom=n,this.ScreenScore=t,this.ManInventory=r,this.ManLives=o,this.ManInvincibilityUntil=i,this.Interactible=u,this.ImageLookupsTables=a,this.WhereToOnGameOver=s}),B);const Ra=P((function(e,n,t,r,o,i,u){this.InnerScreenModel=e,this.ScreenMan=n,this.ScreenDroids=t,this.ScreenGhost=r,this.ManBullets=o,this.DroidBullets=i,this.DecorativeFlickbooks=u}),B);function Ea(e,n,t){if(n>0)return~~(t*e+Math.fround(.5))%n|0;throw new Error("Cannot count through zero steps")}function Oa(e,n,t,r){return 0==(1&~~(r*e+Math.fround(.5)))?n:t}function La(e,n,t,r,o,i){let u;if(u=function(e,n,t,r){const o=0|Ea(e,n,r-t),i=0|Ea(e,n,r);return o!==i?i:null}(e,2,o,i),null!=u){return 0===(0|u)?n:t}return r}function Wa(e,n){return 0==(1&~~(n*e+Math.fround(.5)))}const Fa=P((function(e,n){this.AdditionalExplosionsList=e,this.AdditionalScore=n}),B);function Aa(e,n,t,r,o,i,u){let a;if(a=nr((function(e){return t(e[0],e[1])}),Ut(function(e,n){let t=!0;const r=[];return pn(e=>t?(t=!1,Cn(n=>(r.push(n),[e,n]),n)):r.map(n=>[e,n]),e)}(e,n))),null==a.tail)return[e,n,new O,0];{let t,s,l,c,f,h;t=qt((function(e,n){return[new O(e[0],n[0]),new O(e[1],n[1])]}),a,[new O,new O]),s=ur(r,t[0],{Equals:w,GetHashCode:d}),l=ur(o,t[1],{Equals:w,GetHashCode:d}),c=nr((function(e){return Fu(s,r,e)}),e),f=nr((function(e){return Fu(l,o,e)}),n);const g=new Fa(new O,0),p=function(e,n,t){const r=e(t);return new Fa(new O(r[0],n.AdditionalExplosionsList),n.AdditionalScore+r[1])};let m,M;if(null==i)m=g;else{m=Gt(C(2,x(2,p,[i])),g,s)}if(null==u)M=m;else{M=Gt(C(2,x(2,p,[u])),m,l)}return h=[M.AdditionalExplosionsList,M.AdditionalScore],[c,f,h[0],h[1]]}}P((function(e,n,...t){L.call(this,e,n,...t)}),L);const Ba=[["****************************************************************************************************","*##################################################################################################*","+@###########@@@@@@@@@@@@@@@@@@@@@###########@@@@@@@@@@@@@@@@@@@@@###########@@@@@@@@@@@@@@@@@@@@@#*","*##@#########@#######@#@#@@@@@@@@@@@@#####@@@@@@@@##@#@####@#######@#########@#######@#@#@@@@@@@@@@+","*##@******+***+******@@@@@@@@++++++++*****++++@@#@@@@#*************+******+***+******++++++@@@@@@@@+","*#@#+:........::.:::*@@@@@@@@+:.::::::::::::.+@@##@@##*............:.:........::.:::......+@@@@@@@@+","*###*..........:::..+@@@@@@@@+..::::::.:::::.+@@@@####*........:...............:::........+@@@@@@@@+","*###*.......:.:.::::+@@@@@#@@*.:.::::::::.:::+@@@#####*.......:.:.:::.......:.:.::::......*@@##@@@@+","*###*:.....:::...::.+@@##@@##*:::::::::::.:.:+@#######*.......:.:.::::.....:::...::.::....+####@@@@+","*###*.............:.+++++**+**::::::::.::..:.**++******.:.....:::.:...............:.......*+****###*","*###*.....*****..:::.:........:::::::::...:..:......:..::...*****...:.**********.:::.:........:*###*","*###*.....*###*...:::::::.....:..:.:::::.:.:..::::..:::::...*###*.....*########*..:::::::.....:*###*","*###*.....*###*.............................................*###*.....*########*...............*###*","+@@@+.....+@@@+.............................................*@@@+.....+@@@@@@@@+...............+@@@+","+@@@+.....+++++.............................................+++++.....*@@@@@@@@*...............+#@@+","+@@@+:...........:::**********::::::::.......++++******:::::::::::::::+#@@@@##@*.::::::::::::::*@##*","+@@@*..::.....:.:...*########*:......::.:....*#@@@@###*:::..:::.......*##@@@#@@+:....::::::..::*##@+","+@@#*:.::...........*########*.........::....+@@@@@###*:.....:.:.....:+#####@##*......::::::.:.*###*","+###*:.::...........*########*......:..:.....+#@@@@###*:.:......:..:::*#######@*......:.::.....*##@+","*@##*:::............*########*...:..::.::....*####@###*:.........:..::*########*........::.....*###+","*###******.....*+**+*########*******+++++*++*+###@####*::...++++*******########*+**+******:....*###*","*########*.....*######################################*:....*############################*::...*###*","*########*.....*######################################*.....*############################*.....*###*","*########*.....*######################################*.....*############################*.....*###*","+@#######*.....+@@@@@@@@@@@@@@@@@@###########@@@@@@@@@+.....+@@@@@###########@@@@@@@@@@@@+.....+@@#*","*########*:::::+@@@@@@@@#######################@#@####*.....*@@@##########@#@@@@@@@@@@@@#*.....*###*","*########*..::.+@@#@@@@@#########@#########@##########*:....+@##############@@@@@@#@@@@@#*.....*#@#*","*########*..:.:+@@@@@#@@@#########@#######@#@#@@@#####*.:...+@@@###########@#@@@@@@@@#@@@*....:*##@*","+@#######*...:.+@@@@@#@#@#@#######@#######@#@#@@@@####*.....*@@#@@########@@@@@@@@@@@#@#@*.....*##@*","*###******...:.+++*++##@#####*******+*****+++*@#######*:....**+********###@@@@@+++*++**+**.....*###*","*@##*...........::..*#@##@###*...::..:.::.:..*##@#####*:......::......*###@@@@@+::.............*@##+","+@@@+...........:...*@#@##@@@+......:::..:::.*########*.......:.:.....*###@##@#+:..............*@@@+","*###*...............*########*...............*########*...............*########*...............*###*","*###*...............*########*...............*########*...............*########*...............*###*","*###*...............**********...............**********...............*########*...............*###*","+@@@+:...........:::::::::::::::::::::...........:::::::::::*++++:::::+@@@@@@@@+.::::::::::::::+@@@+","*@@@+.......................::...:.:::..........::..........+###*.....+##@@####*............::.+@@@+","*#@@+.........:.......:::.:.:::.:::::.:::.......:...........*###*.....+@#@#####*......:::.:.:::+@@@+","*#@#+...:..............:....:::.:::::::.....................*###*.....*########*.......:....:::+@@@+","*###+.:.:............:::::::::::..::::::*****+**+++....::.:.*****...:.*######@#*.....::::::::::+@@@+","*###+..::...........**********::..::::::***+*+**++++***.::.....:..:::.+######@@+.......::::::::+@@@+","*###*::.............*########*.:...:.............+#@@#*::::........:::+@######@+....::..::::::.*@@#+","*###*::::...........*########*...:....:..........*####*.:..::...::::::*########*......:..::::..*###*","*###*...............*########*...................*####*...............*########*...............*###*","*###*...............*########*...................*####*...............*########*...............*###*","+@##*********++++++++@@@@@@@@+++++***********....+@@@@++++++++++++*****######@@+++++++++++++++++@@#*","*#################################@@########*::::*######@@########################################@+","*#########@@##########@@@@#####@@@@#@#######*::::*######@#@###############@@##########@@@@#####@@@@*","*###########@#########@@@@#######@##########*::::*#######@#####@############@#########@@@@#######@#*","*###########@#########@@#@#####@@@@@########*::::*#######@#@@@@#############@#########@@#@#####@@@@+","*############@@##@#@@#@##+*******+*+*****#@@*::::*##########@@###############@@##@#@@#@##@#######@#+","*###############@@@##@@@#*......::..::::*#@#+:.::*##########@###################@@@##@@@######@@@##*","*########################*.....:..:::::.*###*::..*#################################################*","*########################*....::::::::::*###*..:.*#################################################*","*###*****************####*..............*****....*#############################*****************###*","+@@@+...............*####*....+++++....++........+###########@@@@@@@@@@@@@@@@@@+...............+@@@+","*###*...............*####*....*###*....*+........*######################@@###@#+...............*###*","*#@@+:...........:::+####*::::*###*:::.*+........*########@#######@@@#@#@@@#@@@+.::::::::::::::*###*","*##@*.:.:.....::::::*####*.:::*###*.:..*+........*##@##############@####@@@#@@@+:::::::::..::::*###*","*@@@+.........:.::::+*****:.::*###*..:.**....***+*+*+************++++++@@@@@##@+:::::::::::.:::*###+","*##@+::...++**+:::::::::.:...:*#@#+:...**....*+++**...::......:::..:::+@@@@@##@+:::::*****...::*@#@*","+@##+::...*@##*::::::::..::...*##@+....**...............:....:::.:::::+@@@#@###+:::::*###*:....*#@@+","*#@#*::...*##@*.:::::.........+#@#+....++.............::......::::.:::+@@####@#*:::::*###*.....*@#@*","*###*.:...*###*.::::.:........*###*...:**..............::.:.:..::.....*########*::::.*###*.....*###*","*###*:....**********....***********.:..**....******.....:::::.::.:...:*########*::::.*****.....*###*","*###*..........***************.........**....**********...............*########*...............*###*","+@##*...............+@@@@+.............**........+@@@@+...............*######@@+...............+@@#*","*##@*...............*@#@#+.............**........+##@#+...............*######@#*...............+@@@+","*##@*:::::::::::::::*@@@@+.......::::::**::::::::+@@@#*..........:::::*###@###@*::::::.........+@@@+","*#@#+:........::.:::*@@@@+....++++++******+++....*@@##*............:.:*###@####*.:::..........:+@@@+","*###***********+*+**+@@@@+....++++++******+*+....+####******...:.******########+*+**+.....++++++@@@+","*###########@@##@@@@@@@@@+.....:.::::::::.:::....*#########*..:.:*##########@@##@@@@+.....*@@##@@@@+","*##########@##@@@@@#@@@##+....:::::::::::.:.:.:..*#########*..:.:*#########@##@@@@@#+:....+####@@@@+","*#########@@@@@@@@@@@@@@@*....::::::::.::..:.....*#########*..:::*########@@@@@@@@@@+.....*@#######*","*########################*************************#########*..::.*##################*:....*########*","*##########################################################*...::*##################*::::.*########*","*##########################################################*.....*##################*.....*########*","+@@@@@@@@@@@@@@@@@###########@@@@@@@@@@@@@@@@@@@@@#########*.....+@@@@@@@@@@@@@@@@##*.....*##@@@@@@+","+@@@@##@@@@@@@@#@##############@#@@@##@#@@@@@@@@@#@#@#####@+.....+@@@##@@@@@@@@#@###*.....*####@#@@+","+@@@+++*++++**+**+***########***+*******++++++@@@#####****+*:::::++++++#@@@@##@##@##*:::::*#####@##*","+@@@*..::.....:.:...*########*:......::.:....*#@@@@###*:::..:::.......*##@@@#@@@####*:::::*#######@+","+@@#*:.::...........*########*.........::....+@@@@@###*:.....:.:.....:+#####@#######*.::::*########*","+###*:.::...........*########*......:..:.....+#@@@@###*:.:......:..:::*#######@#####*.:.::*#######@+","*@##*:::............*########*...:..::.::....*####@###*:.........:..::*###########@@*...::*########+","*###*:::............***************:::.......+***+*****::......:.:..::**********+**+*...:.******###*","*###*:.::.*****...........::..**********............::.:.......:.::..:.::.................::...*###*","*###*.....*###*....................*###*.......................................................*###*","*###*.....*###*....................*###*.......................................................*###*","+@##*.....*##@+....................*###*.......................................................+@@#*","*###*:::::+#@@+:::::::...........::*****::::::::::::::...........:::::::::::::::::::::.........*###*","*###*.....*#@@+.....++++******...............**************+++**************++++...............*#@#*","*###*.....*@#@+.....+#@@@####*::..........:::*@@@#######@#@#@@@@###########@#@@+..............:*##@*","+@##*.....+@@@+....:+#@#@#@##*..:.........:::*@@@@#####@@@###@@#@@########@@@@@+...:...........*##@*","*###*.....+@@@+::::.+##@#####*..:.........::.*@###############@###########@@@@@+:::............*###*","*@##*.....+@@@+.::..*#@##@###*...::..:.::.:..*##@############@@@#@########@@@@@+::.............*@##+","+@@@+*****+##@*+++++*@#@##@@@+**+++++******++*################@@@@@@@#####@##@#+++++*+*+**++++**@@@+","*##################################################################################################*","*##################################################################################################*","*##################################################################################################*","++++++++++++++++++***********+++++++++++++++++++++***********+++++++++++++++++++++***********+++++++"],["*+++++************************++++++++++*++++++++++++*++++++++++*+++++************************++++++","+:::::::::.::.::::::.:::**:.::::::.::::::::.:::::+@@##@@@@@+.:::::::::::::**:.::::::.::::::.:::+@@@+","+:::::::::.:..:.::::.:::**::.:.::..:::::....:::::*@##@@@@@@*::::::::::::::**..:.::::.:::::::.:.+@@@+","+::::::::::....::::.::::**::................:::::*##@@@@@@@+::::::::::::::**...::::.::::::::...+@@@+","*::::*****.::::*****.:::**.::.+++++++++++++**::::***++++++++::::::::::::::**::::::::.::::..::..+@@@+","*:::+++++++::::******:::++...*++++++++++++*+++:::.::::::::::::::::::::::::++:::::::::::::++....+@@@+","*:::++:::++::::::::**..:++...**.....:.......++:::::::::::::::::::::::::::.++:::::::::..::++....+@@@+","*:::++::.++::::::::**:..++...**...::.:......++::.::::::::::::.::::::::::.:++::::::::::...++....+@#@+","*:::++..:++::::::::**:..++...**..::::::.....++:.::::::::::::::.:::::::..::++::::::::::...++....*###*","*...++..:++::::******::.++...**.:::**++*....++..:::::::::::::::.........::++::::*****::..++....*###*","+.......:::::::*****::::**::::::.::*****........:++++++*****::..........::+++++******::::**::::*###*","+........:::::::::::::::**::::::::::::......:....+@@@@@####*::...........:+@@@@+:::::::::**::::*###*","*........:::::::::::::::**:::::::.::::...........+@@@@#####*:............:+@@@@+:::::::::**::::*###*","*.........::::::::::::::**::::::::.::............+@@@##@###*..............+@@@@+:::::::::**::::*###*","*....+++++.:::::::::.:::**:::::::::*****.........++++**+****..............+@@@@+::::.+++***::::*###*","*...++++++...:++:::++:::**:::**::::*****....**...++.....:::...............+@@@@+:::::+++***::::*###*","*...*+........++...++:::**:::**::::.::::::::**...++.......................+@@@@+....:::::**::::*###*","*...**.....:::++:::++:::++:::**:::::::::::::++...++::::::::...............*#@@@+:::..::::++::::*###*","+...++......::++.::++:::++:::**:::::::::::::++...++:::::::::..............+@#@@+.:::.::::++::::*###*","+...++++++::::+++++++.::++:::*************++++...++:::::::::..............+@#@@+::::..:::++::::*###*","+....+++++:::::+++++...:++::::***********++++....++::::.:::::....*+++++++++@@#@+::.:...::++::::*###*","*.......:::::.:..:..:...++::::::.:::::::::::....:++::::..:.::....+@@@@@#@@@@@@#+.:..:....++::::*###*","*.......:::::...........++......::::::::::::...::++:.:::.........+@@@@@@#@#@@##+.........++....*###*","+.......::::.:..........++.......::::::::::::::.:++:..::.........+@@@@@@#######*.........++....*###*","*....**++************+**+++++++++++++++*++++++++++++++*+++++.....+@@@##@@######*....*+**+++....+@@@+","+....******###**********+@@@@#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@+.....+@@@######*****....****+++....+@@@+","+.........*###*.........+@@@@@@@@@@@@@@@@@@@@@@@@@@@@#@@@@@+.....*#@@######*::......**...++....+@@@+","+.........*###+.........+@@@#@@@@@@@@@@@@#@@@@@@@@@@#@@@@@@+.....+#########*.:......**...++....+@@@+","+.........*##@+.........+@@#@@@@@@@@@@@@@@#@@@@@@@##@@@@@@@+.....+#########*........**...++....+@@@+","+.........**+++.........++**+++++++++++++++*********++++@@@+.....+@########*........**...+*....+@@@+","+++++......:::::::::...............:::::::::::::::.....+@@@+.....+@@@@@@@@@+::::::::**.........+@@@+","+@@@+.....::::::::::...............::::::::::::::......+@@@+.....+@@@@@@@@@+::::::::**.........+@@@+","+@@@+.....:::::::::::.............:::::::::::::::......+@@@+.....+@@@@@@@@@+::::::::**.........*#@@+","+@@@+....:::::::::::::............::::::::::::::.::.:..+@@@+.....+@@@@@@@@@+::::::::**.........*#@#+","*@@@+....:::::::::::::...........::::::::::::::.::::::.+@@@+.....+@@@@@@@@@+::::::::**.........*###+","+@@@+...::::::::::::***************:::::***********:::.*#@@+.....+@@@@@@@@@++++******::...******###*","+@@@+::..:::::::::::+@@@##########*:::::*#########*:.:.*###*...::+@@@@@@@@@@@@@#@@@@+::...*########*","*@@@+:::....::::::::+@@@######@@@@+:::::*#########*::..+@@@+..:::+@@@@@@@@@@@@@@@@@@+:.:..*###@@@@@+","*@@@+::::..:.:::::::+@@@######@@@@+:::::*#########*::..*@@@+..:::+@@@@@@@@@@@@@@@@@@+:....*###@@@@@+","*#@@+::::....:.:::::+@@@#####++++++:::::*#########*:...+++++.::::*+++++++++++*+++++++.::::***+++@@@+","*##@+++++++++++++++++@@@#####+......::::+#########*:........::::::::::::::.....:::::.::::::....+@@@*","+####@@@@@@@#@@@@@@@@@@@####@+.......:::+#########*.........:::::::::::::::......::..::::::....+@@@*","*###########@@@@@@@@@@@@###@@+..........*#########*::::::::::::::::::::::::.........:::::.:....+#@@+","*############@@@@@@@@@@@@@@#@+..........*#########*:::::::::::::::::::::::.:::::::::.::::......+##@+","*#######################@@@#@+..........*#########*:::::::::.::::::::::::.::::::::::.:::::.....+###*","*#######################@@@@#+.....******#########***++++*******************************++.....+###*","*#######################@@@@@*.....*##################@@@@##############################@+.....+###*","*#######################@@@@@*.....*###################@#@##############################@+.....*###*","*#######################@@@@@+.....*###################@################################@+.....*###*","*#######################@@@@@+::...*####################################################@+:::::*###*","*##############@@@@@@@@@@@@@@+:::..*+****##############@@@@+++++*******####****+++++++++++:::::*###*","*##############@@@@@@@@@@@@@@*:::.......*#############@@@@@+::::::::::*####*..........:::::::::*###*","+#############@@@@@@@@@@@@@@@*::::......*#############@@@@@+.:::::::::*####*.........::::::::::*###*","+@############@@@@@@@@@@@@@@#+:::::.....*############@@@@@@+::::::::::*####*.........::::::::::*@##*","+@###########@@@@@@@@@@@@@@#@+:::::.....*############@@@@@@+::::::::::*####*........:::::::::::+@@#*","+@@#########@@@@@@@@@@@@@@@#@+++++*:::::*###########@@@@@@@+::::::::::*####*........:::::::::::+@@#*","+@@#########@@@@@@@@@@@@####@@@@#@*:::::*##@@@@@@@@##@@@@@@+.:::::::::*####*.........::::::::::+#@#*","+@#@#########@@@@@@@@@@@####@@@@@#*:::::*#@@@@@@@@@@####@@@+..::::::::*####*..........:::::::::+@##*","+@############@@@@@@@@@@#####@@@@#*:::::*#@@@@@@@@@@@##@#@@+...:.:.:::*####*..........:::::::::+@##*","+#@@++*+*******+@@@@@@@@######@@##*:::::*++++++++++++****+*+........::*+****...........::::::::+###*","*@@@+::..::::..*@@@@@@@@######@@##*:::::::::.........................::..:******++++++++**:::::+###*","*@@@+::..::::..*#@@@@@@@##########*::::::::::::................::::::::..:*######@@@@@@@#*.....*###*","+@@@+:::.:.:...*###############@@@+::::::::::::...............::::::::::.:*##############*:::::+@@@+","*@@@+:::..:::.:*##############@@@@+:::::::::::::..............::::::::::..*##############*:::::+@@@+","*@@@+::::.:::::***************+++++::::::::::::::............::::::::::::.****************:::::+@@@+","+#@@+:::::.::.::::::.::::::.::::::.:::::++++++++++++**+++++++++++*++++******:.::::::.::::::.:::+@@@+","+##@+:::::.:..:.::::.:::::::.:.::..:::::+@@@@@@@@#@##@@@@@@#@@@@@##@@@#####*..:.::::.:::::::.:.+@@@+","+###*::::::....::::.::::::::............+@#@@@@@####@@@@@@@@#@#@@##########*...::::.::::::::...+@@@+","*###*:::::.:::::::::.::::..::...........+@@#########@@@@@@@@###############*::::::::.::::..::..+@@@+","*##@+::::::::::::::::::::...............+@#@@@@@@@@@#@@@@#@+******#@@@@@@@@+:::::::::::::......+@@@+","*#@@+++++++++***********+++****++++.:...+#@@@@@@@@@@#@@@@##*:::::*@@@@@@@@@+:::::::::..::++....+@@@+","*#@@@@@@@@@@@###########@@@@###@@#+:.:..+@@@@@@@@@@@@##@###*:.:::*@@@@@@@@@+::::::::::...++....+@#@+","*@@@@@@@@@@@@@##########@@@@@#####*::::.*@@@@@@@@@@@@######*::.::+@@@@@@@@@+::::::::::...++....*###*","*@@@@@@@@@@@@@@#########@@@@######*::::.+@@@@@@@@@@@@@#####*:::..+@@@@@@@@@+:::::::::::..++....*###*","+@@@@@@@@@@@@@@############@@#####******+@@@@@@@@@@@@@@####*::...+@@@@@@@@@++++************::::*###*","+@@@@@@@@+++++++++++++++************####@@@@@@@@@@@@@@@####*::...+@@@@@@@@@@@@@@@@@@@@@@#**::::*###*","*@@@@@@@@+::::::::::::::**:::::::.:*#####@@@@@@@@@@@@@#####*:....+@@@@@@@@@@@@@@@@@@@@@@#*:::::*###*","*#@@@@@@@+::::::::::::::**::::::::.*######@@@@@@@@@@@##@###*.....*@@@@@@@@@@@@@@@@@@@@@@#*:::::*###*","*#@@@@@@@+.:::::::::.:::**:::::::::*#######@#@#@@@@@@##@###*.....*@@@@@@@@@@@@@@@@@@@@@@#*:::::*###*","*##@@@@@@+...:::::::::::**:::::::::*************++++**++****.....*#@@@@@@@@@@@@@@@@@@@@@#*:::::*###*","*####@@@@+..........::::**:::::::::.::::::::.....................*###@@@@@@@@@@@@@@@@@@@#*:::::*###*","*########*.::::::::..:::++::::::::::::::::::......:::::::::......*##########@@@@@@@@@@@@@+:::::*###*","+@#@@@@@@+..::::.:::.:::++::::::::::::::::::......::::::::::.....+#@@@@@@@@@#@@@@@@@@@@@@+:::::*###*","+##@@@@@@+::::::::::..::++:::::::.::::::::::.....:::::::::::.....*#@@@@@@@@@#@@@@@@@@@@@@+:::::*###*","+#@@@@@@@+:::::.::.:...:++::::***********++++....::::::.:::::....*@@@@@@@@@@@#@@@@@@@@@@@+:::::*###*","*@@@@@@#@+:::.:..:..:...+++++************+++++++++++++*++*++:....+@@@@@#@@@@@@#@@@@@@@@#@+:::::*###*","*@@@@@@@#+:::...........+@@@@+..::::::::::::.+@@@@@@@@#@##@*.....+@@@@@@#@#@@##@@@@@####@+.....*###*","+@@@@@@@#*::.:..........+@@@@+...::::::::::::+@@@@@@@@@####+.....+@@@@@@################@+.....*###*","*@@@@##@@*:::...........+@@@@+..............:+@@@@@@@@#@@@@+.....+@@@##@@############@##@+.....+@@@+","+@@@+*****:::...........+++++*..............:+++++++++++++++.....+@@@###################@+.....+@@@+","+##@+.....::::..............................:::::.::.............*#@@###########@#######@+.....+@@@+","+@##*......:.:..............................:::::.:..............+############@@#@######@+.....+@@@+","+@##*......:................................::::::...............+###########@@@@@@#####@+.....+@@@+","+@@#*.......................................::::::...............+@#########@@@@@@@#####@+.....+@@@+","+@@@+......:::::::::...............:::::++*********.....:........+++++++++++*++++*********.....+@@@+","+@@@++++++++++++++******+******++++:::::++***********+++++++..............::::::::::...........+@@@+","+@@@@@@@@@@@@#@@@@###############@+::::::::::::::*###@@@@@@+..............:::::::::::..........*#@@+","+@@@@@@@@@@@@@#@@################@*:::::::::::::.*####@@@@@+.............:::::::::::::.........*#@#+","*@@@@@@@@@@@@@@@@#################*::::::::::::.:*#####@@@@+.............:::::::::::::.........*###+","+++++++++++++++*********************+++******************++++++++++++++++++++++*********************"],["++++***++++******+++**++++****++****+++*******+****++++***++***+++++***++++******+++**++++****++****","+@@####@@+....**..:.*##@###########@###+:.....::::::..:.::..::..:+@####@@@@@@###@@@@###@###########+","+@###@###+....**::..*############@@##@@*:....:::::::........:....+###@###@@@@####################@@*","*####@@@#*....*+::..*@@#########@@@###@+::..::::::::..:....:.....*###@@@###@###@@@@##@@#########@@@*","*###++++++...:*+::..*@##########@@@###@+:.............:::.....:..***++++++*****++++**+*****#####@@@*","*##@+...:...::::::..*#######@@###@@###@+....:+*****++++++**+..:...:::...:...::::::...:::..*#@@###@@*","*@@@+...:...::::::..*############@####@+..:.:+@##@##@@@@@##*.:::..:::...:...::::::...::...*######@#*","*@@@+:......::::::..*##@##@@@@@@#####@@+.::.:+###@###@@##@#*.:::..::::......::::::..::::..+@@@@@###*","*#@@+.:::.....::::..*#@@##@@@@@##@@###@+::..:*##@@@###@@@@@+..::..::..:::.....::::..::::..+@@@@##@@*","+@##+:.::::::::**++***+++**+++***++**+++:....***+++**+++++++.:......::.:::::::::::.:::....*@@@###@@*","+#@#*::::.****+++***:::.....:::::...:::::....::::+*::..::::..::::*+***+++*****+++****::...+#####@@@*","+@@#+::::.*###+::...::..:...::::...:::::...:..:::**:...:::...::::+@#@#########@@@@@#*:..:.+#@@##@@@*","+@@@+::::.*@##+:::..::..::..::::...:::::...:..::.**::..:::...:::.+@@@#@@###@##@@@@@#*:..::*##@##@@#*","+@@@+:::..+@##*::...:...::..::......:::...::..:::**.:...::...:::.+@@@@@###@@###@@@@#*...::*##@#####*","+@@@+:::..+@##*.........::..........::....::..:.:**::...::....::.+++++***+++***+++++*...::*#@@#####+","+@@@+::::.+@##*.::::**++++**++..::.+***+****+.:::**:::.**+++**+++.:::::::.:::::.::::**.:::*#@@@####+","+@@@+:::::*###*..:::*#@@@@###+.::::*###@@@##+..::**::..*@##@###@+.:::::::::::::..:::**.::.*##@@####*","+@@@+:.::.+@##*..:::*##@@@###+.:::.*####@###+..::**::..*###@@###+...::.::..:::...:::**....*##@#####*","+@@@*:::..+@@@*.::::*##@@@###+..::.*#@@@@@##*...:**:...*###@@###+...::::...::...::::**.::.*##@@@###*","*###*.:::.++++*.::::*##@@####*.....*##@@@@##*..:.**....***++*****:....:::...:...::::**..:.*###@@###*","*@@@+::::.......::::*##@####@+:....*@#######+..::**....:::::...:::...:*++++++***::::**.:::*#@@@@###*","*@@@+::....::...::::+#####@@@+.::..*@@##@@##+.:::++:...:::::...:::...:*#@@@####*::::+*.:::+@@@@@##@*","*@@@+.....:::::..::.+####@@@@+::...*####@###*.:::++..:...:::...::::...*########+.::.+*.:::+@@@@@###*","*@@@+::..::::::...:.+@##@@@@@+::...*###@####*::::*+..:.:.......::...::*#@####@@+..:.++::::+@@@@@##@*","*@@@+******++++++++++########*.:::.+@#####@#*:::.**+++***+++++***++++**####@@@@+...:+*::::*#######@+","*+++***+***++++++++*****+@@@@+.::..+@#####@#*....*##@###@@@+++***+++***+***+++++..::**....++++++@#@+","*:.......::::::..:::...:+@@@@+..:..+@####@@@*::::*##@###@@@+...:::.......::::::..:::**.:...::..+###+","+::.....::::::...:::...:+@@##+.....+#####@@@*.::.+######@@@+:..::::.....::::::...:::*+.::...:..+###+","+::.....:::::...:::::..:+@@@@*.....*@@####@@*.::.*@@@#####@+:..::::.....:::::...::::++.::....:.*###*","+::....::::::...:::::...*+++++.....*@@@##@##*....+#@@@@@@@@+++*++::...****+*:...::::+*......:..+###*","+:.....:::::....:::::......:.:....:+@@@##@@@+.:::+@@@#@#@@@++***+:....**+++++***+++++****+.:.:.+@##+","+:::...:::::::..:::::.....::...:..:+@@###@@@+....+@@@#@@#@@+:..:::::...:::+@###@@@@@###@#*::...+###+","+:::::::::::::...::::...::....::..:+@@###@@@*..:.+@@@#@@@#@+...:::::::::::+@###@@@@@###@#*....:+@##+","+::::...:::::::..:::.........::....*@@###@@@*.:.:+@@###@@##+...::::::...::*#####@@@###@@#*...::*@##*","*::::...:::::::...:::......:::..:::*@@####@@*.::.+++***++********::::...::*#####@@####@@#*.:::.+@##*","***+++******++***+***+++**++++++++*+@@@@@##@*.......:::::...++++**:::::.::*#@@###@###@@@#*::::.+@@#+","*##@@######@@@@######@@@###@@@@@@###@@@@@@@@+:...:..::::....:...**:::::.::*@@@@######@@@#*:::..+@##*","+#######@##@@@###@#########@@@@@@#####@@@@##+...::....::...:::..+*::::..::*@@@###@#######*:::..+@##*","+##@@###@###@@###@###@@@@###@@@@###@@@######+...:...:......::...+*::::..::*#@@###@###@@@@*::...+###+","+###@####*******+++***+++**+*******+++++++**++****+++***+***:..:+*.:::...:*#####@@@###@@@*.....*###+","*##@@@###+.......:....::......:::..::...:::..+***++++*******:..:**:.:...:.+#####@@@###@@#*....:*###+","*##@@@@##+::..:..:::::......:..::..:::..::.::...........::.....:**::....::*@@##@@@@###@@#*..:..+###+","*##@@@@##*:...::..:::::::..:.:...............:...::.::.:::.....:**:::..:::+@###@@@@###@@#*.:.:.*#@#*","*#@@@@@##*:...::...:::::...:::.:......::....:::..::.:...:::....:**....::::+@###@@@@###@@#+.:::.*#@#+","*#@@@@@@#*:...::...:::::...::::......:::..::::....::....:::.....**:....:::*@@@####@@@@@#@+.::::*@@@*","*#####@@#*:...:::...:::.********++***+++***+++***+**++++******++*..:..++***@@###@@@@@@@@#*.::::*@@#*","*##@###@@*::...::...::..+@@@@########@@@###@@@#######@@@@@@##@@@*:::..*@@###@###@@@@@@@#@+...::*###*","*##@@###@*.....:::......*#@@###@@@###@@@@##@@@@#####@@@@@@###@@@*.::..*#@#######@@@@@@###*::...+@@#*","+##@@####+:....:::......*#@@###@@@##@@@@@##@@@@#####@@@@@###@@@@+..:..*##@######@@@@@####*::::.+@@#*","+#######@********++++****#######@@###@@@@###@@@####@@@@@@###@@@@+:....*#@########@@@@####*:::::*@@#*","+######@#@####@#@@@@@####*++++**++***++++@##@@#####@@@@@####@@@@+::..:*@#@####@#@@@@@####*:::::*@@#*","+#####@@###@##@#@#@@@####*:::::...::::::+##@@@@@###@@@@@@@##@@@@+:...:+@###@##@#@#@@@####*:::::*###*","+###@@####@@##@@#@##@####*::::::...::::.*##@@@@@@@@@@@@@@@###@@@+...::*###@@##@@#@##@####*:::::*@@#+","*########@@####@@@#######*:::::..:...::.*##@@@@@@###@@@@@@@##@@@*...::*##@@####@@@#######*:::::*@@@+","+######@@@##@@@#@@@######*:::.....:::...*##@@@@@@###@@@@@@@###@@+...::*@@@#*+++*+++*******:::..*@@@+","+@@##@@@@@##@@@##@@######*........:::::.+##@@@@@@@@#@@@@@@@##@@@+.:...+@@@#*::::..:::::.:......*@@@+","+@@##@@@@###@@@@######@##+::...:..:::::.+###@@@@@@@#@@@@@@@###@@+::::.+@@##*::::..:::::::.::...*@@@+","+@@###@@@###@@###@@##@@#@*:...::...::::.+@##@@@@@@##@@@@@@###@@@+:::..+@@##*:::...:::::::::...:*##@+","+@@###@@####@@###@###@@#@*...:::...:::::+#####@@@@##@@@@@@###@@@+:::..+@###*::....::::::::...::*@##*","+@@@###############@@###@*...:::...:::::+**++**+++***+++******+++::...*####*.:::..::::::::...::*###*","*#@@######@@@##@@###@@@##*****.....++***..::::...::........:::..:::...*###@+:..:...:::::::..:..*#@#+","+@######@##@@##@@@##@@#@@####*::...*@@#*...:::...:..........:...:::...*#@##+...::...:::::...:::*###*","+@@@@##@#@###############@###+::::.+@@#*...:::...:::.....:::::...::...*@#@#*...::...::::....:::*@@#+","+@@@###@@@#@######@@####@@@##+::::.*@@@*...::.....::......::::...::...*@@@#+..::...........::::*@##*","++++***++++******+++**++++****:::..*+++*...:....::::...***++***++.....*@@@@*..:......::::..::::+###*","+.:..::::.........:..::::...:::.....:::::.....:::**++++***+++***+.:..:*@@@@++***..:..**+********###+","+.:..:::::......::...:::::.........::::::....::::*###@+.....:.....:..:*##@@@@##*::...*###########@@*","*.::..::::.....:::...::::...:....:::::::::..:::::*@@@#*....:......::..+@###@###+::...+@#########@@@*","*.::...:::...:::::...::::......::::::::::........*#@@@+::.....:...::..+@@@#####+::...+##########@@@*","*.:::...:...::::::...:::...:...::::::::.....:::::*#@@@+::.....:...:::.+@@@@@###+::...*######@@###@@*","*+++++++++..:::+++++*************+****+++**++++**+##@@+::....:::..:::.+@@@@###@+::...*###########@#*","*@@@@@@@@+..:::+@@@@###@##@@@@@@#####@@@###@@@###@###@+:.....:::..::::+@@@@###@+::..:*#@##@@@@@@###*","*#@@@@@@@+....:+@@@###@@##@@@@@##@@###@@###@@###@@@###+.::....::..::..+@@@@@###+::..:*@@##@@@@@##@@*","+@##@@@@@+:::::*#@@###@@@##@@@###@@##@@@###@@###@@@##@+.:::..:......::+@@@@##@#*::.::*@@@##@@@###@@*","+#@###@@@*:.:::+@####@@@@@@#####@@@###@@@#######@@###@++++++***++...::+@@#####@+:...:+@@@@@#####@@@*","+@@#@####*::.::++++******@@#@@##@@@###@++**++*+******+++++++**+++..:::*#######@+:...:*###@@#@@##@@@*","+@@@@#@@#*:::.::::..::..*####@##@@####@+...:*+::..:::..:::...:::...:::+@###@##@+::..:*#@#####@##@@#*","+@@@@@@##*.::..::...:...+####@########@+..::++:::::.:...::...:::...:::+###@@###+:...:*#@@####@#####*","+@@@@@###+.::...........+###@@#####@##@+..::++:.:::::...::....::.....:*##@@@###+.....*@@@###@@#####+","++++++***+:::::.::::...:++**+++****+***+.:::++::::::::.::::::..:..::::***+++***+::::.*@@@@##@@@####+","+.:::::::::::::+++++**++++.....::::......:::++.::*******+**+***+++++++:::::::::..:::.*@@@@###@@####*","+...::.::..:::.+@@@@###@@+..:..:::...:......++.::*#########@@###@@@@@*.::..:::...::::*#@@@###@#####*","+...::::...::..*@@@@###@@+..:...::...:...:::*+..:*#########@@###@@@@#*::...::...:::::*#@@@###@@@###*","*:....:::...:..*#@@@###@@*..........:::...::*+.:.*#@@#####@@#########*:::...:...:::::*#@@#####@@###*","*:...::::......*++++***+****++++****+***..::+*.::**++*****+******++++*:::.......::::.**+****++++****","*++++***++.::...::::...:**++++++**+*++**..::+*:::++:...:::::...:::...::...+*****+++++..::::..:.::..*","*@@@@@###*:::::..::....::::...::...::::...::**:::++..:...:::...::::.......*####@@@@@+..::::...::...*","*@@@@###@*:::::...:...:::::...::...::::...::**:::*+..:.:.......::...:::..:*##@@@@@@@+.:::::...::...*","*@@@@####*...::....:..::::::...:::....:::::.**::.**.:::...::..::::...::...*@@@@@@@@@+.::::::...:::.+","*@@@###@#*::......::......::...::...::::::::**+++***+***++++...::+++***+***++++++++**.....::...::..+","*@@####@@***+++..:::**+*++++++++***++***:::.:*+++***+***++++...::++****++***:::..:::...:...::...:..+","+@@@##@@#####@+..:::*@@#@@@##@@@###@###*::....::...:::...::::..::::.....::::::...:::...::...:......+","+@@@#########@*.::::+@##@@@@@#######@@#*:.....::...:::..:::::..::::.....:::::...:::::..::....:.....*","+@########@###*.::::+####@@@@@@@####@@@*:...........::...::::...:::....::::::...:::::.......:......*","+@@#####@@@@@#*.::::+####@@@@@@@@##@@@@*:.....::::..::...:::::..::.....:::::....:::::......:.:....:+","+@##@###@@@@##*+++++*##@##@@@@@@###@@@#**++++**++++++*++*++++***++**+***++++***+++++***+**++++++***+","+@##@@##@@@@###@@@@@###@##@@##@@@##@@@###@@@###@@@@@@#@@@#@@@@##@@##@@##@@@@###@@@@@###@##@@##@@@##+","+###@@##@@######@@@###@@##@@@@@#@###@@###@@@###@@@@@###@@##@@###@###@@##@@######@@@###@@##@@@@@#@##*","*###@@##########@@####@@##@#@@@@@###@@####@@#####@@@###@@###########@@##########@@####@@##@#@@@@@##*","***+++******++***+***+++**++++++++*++++++**+**+++++++*+++++*++++***+++******++***+***+++**++++++++*+"],["******++++++**++++++++++++*******++++++*******************************++++++**++++++++++++*******+++","*#####@@@+:::::+@@@@@#@@@+....::::++..:**:.......*#########*.....*####@@@@@+::::::::+*........::::.+","*#####@@@+..:::+@@@######*::.:::::*+:::**:.......*#########*.....*####@@@@@+::::::::**...:::.:::::.+","*#####@@@+..:::+@@@######*::::::::**:::**:.......*#########*.....*####@@@@@+::::::::**..:::::::::::*","*#####@@@+..:::+@@@######*::::******:::******....*#@@###@@#*.....*****+@@@@+::::::::**:.:::::::::::*","*#####@@@+..:::+@@@######*:::***++*..:::******...+@@@@@@@@#*........::+@@@@+::::+++**:::::*****::::*","*#####@@@+:::::+@@@######*:::**::::...:.....**...+@@@@@@@@@+..........+@@@@+::::+@@#*:::::*###*::::*","*##@@@@@@+:::::+@@@######*:::**::::.........**...+@@@@@@@@@+..........+@@@@+::::+@@#*:::::*###*::::*","+##@@@@@@+:::::+@@#######*:::**::::.........**...+@@@@@@@@@+..........+@@@@+::::+@##*:::::*###*::::*","***+++++++:::::+++********:::******.....******...+++++++++++..........++++++::::++***:::::**********","*.....::::::::::::..::::::::.:*****.....*****....++...:::....:........::::::::::::..::::::::.::*****","*..::.::::::::......:::::::...:::................++........:::::...::.::::::::......:::::::...:::..*","*.::::::::::::.......::::::......................++.......::::::..::::::::::::.......::::::........*","*::::::::.::::........::::.......................++.......:::::::::::::::.::::........::::.........*","*:.::::................::.....*****.....*++**....++.......::::::::.::::...++++++.......::..........*","******++**.....++*********...******.....*+++**...*+++++...:::::::*****++**+++++++****.....*****....*","*########*.....+#######@@*...**........::...+*...*#@@@+...:::::::*########@+....*###*.....*@@#*....*","*########*.....*########@*...**......:::::::+*...*#@@@+...:::::::*########@+....*###*:....*@@#*....*","*########*.....*@@###@@#@*...**....:::::::::+*::.*##@@+...:::::::*#########+....+@##*.....*@##*....+","*########*.....*@###@@@@#*...***+++:::::*++++*:::+@@@@+:::::::::.*#########*....+***+.....*****....+","*########*.....*@##@@@#@@*....***+++:::****++::::+@@@@++++++:::::*#########*.............**........+","*########*.....*##@@@@###*........++:::**::::::::+@@@@@@@@@+:::::*########@+.............**.......:+","+@###@@@#+.....*@@@@@@###*........++:::**::::::::+@@@###@@@+:::::+###@@@#@@+.............**.......:+","+@##@@@@@+.....*@@@@@@###*........++:::**::::::::+@@@###@@@+:::::+##@@@@@@@+.............**.......:+","+@@#@@@@@++...+*@@@@@@###*******++++:::********+++@@@###@@@+:::::+@#@@@@@@@++++*+++++....*******++++","+++++++++++...+**++++***********++++:::*********++@@@###@@@+:::::+@@@@@@@@@@@@@##@@@+....**#####@@@+","+::::....++...+*........**...::.....:::::::::::::*@@@#@@@@@+.::::+@@@@@@@@@@@@@###@#*.....*#####@@@+","+::::....++...+*........**...:::......:::::::::::*@@#@@@@@@+..:::+@@@@@@@@@@@@@#####*.....*#####@@@+","+:::.....++::.+*:..::...**...::::......::::::::::*###@@@@@@+..:::+@@@@@@@@@@@@@#####*.....*#####@@@+","+::......++.:.**:..::::.**...::::......::::::::::*##@@@@@@@+..:::+@@@@@@@@@@@@#******::...******#@@+","+::.++...++.:.**...**:::**...:****+++****+***::::*@@@@@@@@@+...::+@@@@@@#@@@@##*....::::.....::*##@+","+:..++..:*+:..**...**:::**...:*########@@@@@*::::*@@@@@@@@#*....:+@@@@@###@@@##*....::::.....::*###*","*:..++.::**::.**...**:::**....*#######@@@@@@*::::+@@@@@@@@#*.....+@@@@@########*.....:::.......*###*","*:..++:::**...**...**:::**....*#######@@@@@@+::::+@@@#@@@@#*..:::*@@@@#########*....::::.......*###*","*:..+*:::**...**...**:::**....*#######@@@@@@+::::+@########*.::::**++***********....:::::......*****","*::.::::::..........::::::....*#######@@@@@@+::::+@########*:::::::.::::::..........::::::.........*","*::.::::::..........::::::....*#######@@@@@@+::::+@########*:::::::.::::::..........::::::.........*","+::..::::...........::::::....*#######@@@@@@+::::+@########*:::::::..::::...........::::::.........*","*::...:.............:::::::...*#######@@@@@@+::::+@########*:::::::...:.............:::::::........*","*::.................:::::::...*####@@@@@@@@@*::::+@###****************..............:::::::........+","*::.**...**...*+...++:::++:...+#@##@@@@@@@@@+::::+####*:::::*******************+....:::::::....*+**+","*:..**...**...++...++:::++....+@@##@@@@@@@@@+::::+####*:::::::::::....*#######@+.....:::::.....+@##+","*...**...**...++...++.::++...:+@##@@@@@@@@@@+::::+####*:::::.::::.....*#######@+......:::....:.+##@+","*...**...**...++...++...++.:::+@##@@@@@@@@@@+:...+####*::::...:::.....*#######@+...........::::+##@+","*...**...**...++...++...++::::*****++++++++++:...+####*::::...........*#######@+..........:::::*###+","*........**...*+........++:::::::::::::::.::::...*####******.....******########++++++.....++++**###+","*........++...**........++::::::::.::::..........*#########*.....*#######@@#####@@@@+.....+@@@#####+","*........++...**........++::::::::.::::..........*#########*.....*#######@@@######@@+.....+@@@#####*","+......::++.::**........++:::::::.:::::..........*#####@@##+.....*#######@@@@######@+.....+@@@#####*","+++******++:::*****+++++++++++************+++++***######@##+.....+@######@@@@######@+.....+@@@#####*","+@@@#####++:::**####@@@@@@@@@##############@@@@#@@###@@#@##+.....+@@#####@@@@#######+.....+@@######*","+@@@#####+:::::*@@@@@@@@@@@@@###############@@##@###@@@@###*.....+@@#####@@@@###@@@@+..:::+@@######*","*@@@#####*:::::+@@@@@@@@@@@@@################@##@##@@@#@@##*.....+@@#######@@##@@@@@+..:::+@@######*","+@@@#####*:::::+@@@@@@@@@@@@@@@@##########@@@@####@@@@#####*.....+@@###########@@@@@+..:::+@@@@@###*","+@@@@####*:::::++++++***++++++++++***+++*+++++**++++++******.....++++**********++++++.::::++++++++**","+@@@@@###*::::::::::..::::::::::::::::............................::::::::::::::::::..:::::::::::::*","+@@@@@###*::::::::.....:::::::::::::::............................::::::::::::::::.....::::::::::::*","+@@@@@###*::::::::.....::::::::::::::..............................:::::::::::::::.....::::::::::::+","+@@@@@@##*::::::::.....:..::.::::::::........................::.....::::::::::::::.....:..::.::::::+","+@@@@@@##*:::::***++*++++++++++++++++++++++++++*****************+.....::::::::::::........::..:::::+","+@@@@@@##************++++++++++++++++++++++++++*****************+++++++**************++++++++++::::+","*@@@@@########*:::............:::::.........:..::..::::......::::+@@@@##############@@@@@@@@@@+::::+","*#@@@####@####*::..............::::.::...::.:..:....::::.....::::*@@@####@########@@@@@@@@@@@@*::::+","*######@@@@@##*::...............::..:...::::........::::.....::::*#####@@@@@###@@#@@@@@@@@####*.::.+","*#####@@@@@@##+::................:..:..:::.::........:::.......::*****++++++**++++++++++++*****..:.+","*#####@@@@@@@@+:::::+*++++********++++**********************.......:::::::::::::::::..........::::.+","*#####@@@@@@@@*:::::*##############@@######################*.......::::::...::::::::::...:::.:::::.+","*#####@@@@@@@@*:::::*######################################*.......::::::...::::::::::..:::::::::::*","*#####@@@@@@@#+:::::*##############################@@###@@#*.......::::::...:::::::::::.:::::::::::*","*#####@@@++++*+:::::*###########@@###############@@@@@@@@@#*........:::::...:::::::::::::::::::::::*","*#####@@@+::::::::::*##########################@@@@@@@@@@@@+.....*****+++++++*+++++*****************","*##@@@@@@+::::::::::*##########################@@@@@@@@@@@@+.....*#@@@@@@@@@#@@@@@@################*","+##@@@@@@+::::::::::*##########################@@@@@@@@@@@@+.....*#@@@@@@@@@@@@@@@#################*","*##@@@@@@+::::::::::*#########################@@@@@@@@@@@@@+.....*#@@@@@@@@@@@@@@@#################*","*#@@@@@@@+:::::+++***#########################@@@@@@@@@@@@@+.:...*@@@@@@@@@@@@@@@@#################*","*#@@@@@@@+::::.+@@#######*********************++++@@@@@@@@@+::::.*@@@@@@@@@@@@@@@@#################*","*##@@@@@@+::::.+@@#######*:......................+@@@@@@@@@+::::.*#@@@@@@@@@@@@@@@#################*","*##@@@@@@+::::.+@########*.......................+@@@@@@@@@+:::::*#@@@@@@@@@@@@@@##################*","*##@##@@#+.....+@########*.......................+@@@@@@@@@+:::::*#@##@@#@@@@@@@@##################*","*###**++**.....+@########*....***********+++*....*@@@@@@@@@+:::::*####@@##@@@@@@@##################*","*###*::........+#######@@*...**++********++++*...*#@@@@@@@@+:::::*########@@@@@@#######@@##@@##@@##*","*###*::........*########@*...**......:::::::+*...*#@@@@@@@@+:::::*########@@@@@#########@##@@##@@@@*","*###*::........*@@###@@#@*...**....:::::::::+*::.*##@@@@@@@+:::::*#########@@@@#@@###@@#@##@####@@@+","*###*::........*@###@@@@#*...**....:::::::::+*:::+@@@@@@@@@+::::.*##########@@##@###@@@@########@@@+","*****:.........*+**+++*++*...**....+****::::+*:::+@@@@@@@@@+:::::************+**+**+++*++********+++","*:::::..................**...**...:+*****:::**:::+@@@@@@@@@+::::::::::............................:+","+:::::..................**...**...:::::**:::**:::+@@@###@@@+::::::::::............................:+","+:::::..................**...**...:::::**:::**:::+@@@###@@@+::::::::::............................:+","+:::::..................**...**...:::::**:::**:::+@@@###@@@+::::::::::............................:+","+::::...................**...***++++++***:::**:::+@@@###@@@+:::::::::..............................+","+++++..........***+*******...:**+++++++*::::**:::*@@@#@@@@@++++++++++++++++++++***+*************++++","+@@@+..........*#########*...:::......::::::**:::*@@#@@@@@@@@@@@@@@@@@@@@@@@@@@#################@@@+","+@@@+......::..*#########*...::::......:::::**:::*###@@@@@@@@@@@@@@@@@@@@@@@@@@#################@@@+","+@@@+.......:..*#########*...::::......:::::**:::*##@@@@@@@@@@@@@@@@@@@@@@@@@@###################@@+","+@@@+:...::.:..*******************+++****+****:::*@@@@@@@@@@@@##@@@@@@@@#@@@@#####################@+","+@@@+++***::........::::***************+++++*::::*@@@@@@@@######@@@@@@@###@@@######################*","*@@@@@@##*.::........:::.......::..::::::::::::::+@@@@@@@@#######@@@@@@############################*","*#@@@@###*..........::::...........::::::::::::::+@@@#@@@@########@@@@#############################*","*##@@####*..........:::::..........::::::...:::::+@################@@##############################*","**************************************++++++++*++++*************************************************"]];P((function(e,n,...t){L.call(this,e,n,...t)}),L);const Ka=P((function(e,n,...t){L.call(this,e,n,...t)}),L);function Na(e,n){let t;return t=function(e,n){let t=new O,r=new O,o=n;for(;null!=o.tail;)if(null!=o.tail){const n=o.tail,i=e(o.head);switch(i.tag){case 1:r=new O(i.fields[0],r);break;case 2:break;default:t=new O(i.fields[0],t)}o=n}return[t,r]}(e,n),[jt(t[0]),jt(t[1])]}const _a=P((function(e,n,t,r){this.LevelMessage=e,this.LevelIndex=0|n,this.FatFont=t,this.BigFont=r}),B);function Ha(e,n,t){let r,o,i,u,a;r=Bo()[Ho.fields[0]],du(e,0,0,r),o=160,i=76,u=140,a=192,pu(e,n.BigFont,new Jr(1,"CentreAlign"),new Yr(1,"MiddleAlign"),160,76,n.LevelMessage),pu(e,n.FatFont,new Jr(1,"CentreAlign"),new Yr(1,"MiddleAlign"),160,140,"FIND  THE  FOLLOWING");const s=$t([li,bi,ai]),l=0|S(m,2,n.LevelIndex),c=0|~~((320-(30*l|0))/2);Zt((function(n,t){if(n<=l){du(e,c+30*n|0,192,Bo()[t.fields[0]])}}),s)}function Ga(e){const n=Ko()[_o.fields[0]];return Po(new _a(_n(Nn("Level %d"))(e),e-1,Xr(6,2,1,n),Xr(6,4,6,n)),Ha,Fo,new O(new no(0,"PlaySoundEffect",No()[zi.fields[0]]),new O))}const ja=P((function(e,n){this.GuestState=e,this.StateSwitchChooser=n}),B);function qa(e,n,t){n.GuestState.Draw(e,t)}function Ua(e,n,t,r){const o=Ro(e),i=o.StateSwitchChooser(t,n);if(null==i){const i=new ja(o.GuestState.Frame(n,t,r),o.StateSwitchChooser),u=Oo(e);return Po(i,C(3,Eo(e)),C(4,u),new O)}return i}function Va(e,n){return Po(new ja(n,e),qa,Ua,n.Sounds())}function za(e,n,t){return Va((function(t,r){return t>=e?n(t):null}),t)}function Ja(e,n,t){var r;if(r=Math.fround(1),Math.abs(n.ptx-e.ptx)<r&&Math.abs(n.pty-e.pty)<r)return e;{let r;return r=function(e,n,t){var r,o;return new Eu((r=e.ptx-t.ptx)>n?n:r<Math.fround(0)?-n:Math.fround(0),(o=e.pty-t.pty)>n?n:o<Math.fround(0)?-n:Math.fround(0))}(n,t,e),new Ru(e.ptx+r.modx,e.pty+r.mody)}}function Ya(e,n,t){const r=Qu(e);return new Ru(t.ptx+r[0]*n,t.pty+r[1]*n)}function Xa(e,n,t){if(e>n.length)throw new Error("Array isn't large enough to supply requested number of randomly chosen items");const r=Bu(n,t);return[Pn(e,r[0]),r[1]]}function Za(e){return e.BulletCentrePosition.fields[0]}function $a(e){return e.DroidIdentity}function Qa(e){return e.DroidCentrePosition.fields[0]}function es(e){return e.DroidCentrePosition}function ns(e){return e.ManCentrePosition.fields[0]}function ts(e){return e.ManCentrePosition}function rs(e){return 1===e.DroidType.tag||2===e.DroidType.tag}function os(e,n,t,r){return or((function(e){const o=n(e);return Math.abs(r.fields[0].ptx-o.fields[0].ptx)<t&&Math.abs(r.fields[0].pty-o.fields[0].pty)<t}),e)}const is=P((function(e,n,...t){L.call(this,e,n,...t)}),L);const us=P((function(e,n,...t){L.call(this,e,n,...t)}),L);const as=P((function(e,n){this.NewRoomOrigin=e,this.NewRoomManCentre=n}),B);function ss(e,n){var t;let r;let o;switch(o=function(e){switch(2===e.ManState.tag?0:0===e.ManState.tag||1===e.ManState.tag?1:0){case 0:return new us(4,"NotExitingRoom");case 1:return e.ManCentrePosition.fields[0].ptx<Math.fround(0)?new us(0,"ExitingLeft"):e.ManCentrePosition.fields[0].pty<Math.fround(0)?new us(2,"ExitingUp"):e.ManCentrePosition.fields[0].ptx>300?new us(1,"ExitingRight"):e.ManCentrePosition.fields[0].pty>200?new us(3,"ExitingDown"):new us(4,"NotExitingRoom")}}(n),o.tag){case 1:if(!(e.fields[0][0]<3))throw new Error("Rightmost exit leads outside level bounds");r=[1,0];break;case 2:if(!(e.fields[0][1]>0))throw new Error("Upward exit leads outside level bounds");r=[0,-1];break;case 3:if(!(e.fields[0][1]<3))throw new Error("Downward exit leads outside level bounds");r=[0,1];break;case 4:r=null;break;default:if(!(e.fields[0][0]>0))throw new Error("Leftmost exit leads outside level bounds");r=[-1,0]}if(null!=r){const o=0|r[1],i=0|r[0],u=new Eu(he(i)*(300-Or),he(o)*(200-Or));return new as(new da(0,"RoomOrigin",[e.fields[0][0]+i,e.fields[0][1]+o]),new ga(0,"ViewPoint",(t=ns(n),new Ru(t.ptx+u.modx,t.pty+u.mody))))}return null}function ls(e){const n=300/Math.fround(2),t=200/Math.fround(2),r=e.fields[0].ptx>n?Math.fround(0):300,o=e.fields[0].pty>t?Math.fround(0):200;return new ga(0,"ViewPoint",new Ru(r,o))}function cs(e,n,t,r,o){return!((0|Vt(n))<(0|(1+(0|S(m,b(m,0,e.fields[0]),1))|0)))&&or((function(e){return!(!w(e.InteractibleType,new ma(5,"ObLevelExit"))||!w(e.InteractibleRoom,r))&&(Math.abs(o.ptx-e.InteractibleCentrePosition.fields[0].ptx)<cr&&Math.abs(o.pty-e.InteractibleCentrePosition.fields[0].pty)<cr)}),t)}function fs(e){return new Ru(e.fields[0].ptx+10,e.fields[0].pty+28)}function ds(e,n){const t=new ia(vu,[Bo()[zo.fields[0]],Bo()[Jo.fields[0]],Bo()[Yo.fields[0]]],new oa(1,"Hidden"),new oa(0,"Visible")),r=Hu(fs(e),n,vu);return new ua(t,n,r)}function hs(e){switch(e){case 0:case 1:return!1;default:return!0}}function gs(e,n,t){const r=[25*e.RoomOrigin.fields[0][0]*12,25*e.RoomOrigin.fields[0][1]*8],o=0|~~(t/2);return mn((function(){let i=0;return In((function(){return i<200}),mn((function(){let u=0;return gn(In((function(){return u<300}),mn((function(){var a,s;const l=new na(u,i,t,t),c=new ta(he(u+r[0]),he(i+r[1]));let f=!1;return ra(e.LevelModel.TileMatrixTraits,l,c,(function(n,t,r,o){const i=0|e.LevelModel.LevelTileMatrix.fields[0][o][r];f=!!f||hs(i)})),gn(f?Mn():(s=new Ru(u,i),a=new Ou(s.ptx,s.pty,s.ptx+t,s.pty+t),or((function(e){return function(e,n){return!(y(e.Left,n.Right)>=0||y(e.Right,n.Left)<=0||y(e.Top,n.Bottom)>=0||y(e.Bottom,n.Top)<=0)}(a,e)}),n)?Mn():kn([u+o,i+o])),mn((function(){return u+=t,Mn()})))}))),mn((function(){return i+=t,Mn()})))})))}))}function ws(e,n){const t=new Wu(0,"XorShift32State",n>>>0),r=Bu(Nt(mn((function(){return pn((function(n){return pn((function(t){const r=new da(0,"RoomOrigin",[t,n]);return kn(new Ta(r,e))}),xn(0,1,3))}),xn(0,1,3))})),Array),t);let o,i;var u;return o=Nt(r[0],Array),i=Dn((function(e,n){if(e>o.length)throw new Error("We have too many objects and not enough rooms to put them in!");const r=o[e];let i;let u;return i=Nt(gs(r,new O,25),Array),u=Sn(Xa(1,i,t)[0]),new Ma(r.RoomOrigin,n,new ga(0,"ViewPoint",new Ru(u[0],u[1])))}),(u=e.LevelIndex,mn((function(){return gn(kn(new ma(6,"ObLevelStart")),mn((function(){return gn(kn(new ma(0,"ObKey")),mn((function(){return gn(u.fields[0]>0?kn(new ma(1,"ObRing")):Mn(),mn((function(){return gn(2===u.fields[0]?kn(new ma(3,"ObAmulet")):Mn(),mn((function(){return gn(u.fields[0]>1?gn(kn(new ma(2,"ObGold")),mn((function(){return kn(new ma(3,"ObAmulet"))}))):Mn(),mn((function(){return gn(kn(new ma(4,"ObHealthBonus")),mn((function(){return kn(new ma(5,"ObLevelExit"))})))})))})))})))})))})))})))),Ut(i)}function ps(e,n,t){const r=function(n){Xt((function(n){let t,r;t=fs(n.BulletCentrePosition),r=Bo()[jo.fields[0]],hu(e,t.ptx,t.pty,r)}),n)};gu(e,0,0,320,256,new cu(0,"SolidColour",0));const o=Xr(6,2,1,Ko()[_o.fields[0]]);let i;var u;let a;let s;u=n.InnerScreenModel.RoomReference.RoomOrigin,i=new fa(0,"RoomNumber",4*u.fields[0][1]+u.fields[0][0]+1),a=_n(Nn("SCORE %d"))(n.InnerScreenModel.ScreenScore.Score);const l=n.InnerScreenModel.RoomReference.LevelModel.LevelIndex.fields[0]+1|0;let c;s=_n(Nn("ROOM %d L%d"))(i.fields[0])(l),pu(e,o,new Jr(0,"LeftAlign"),new Yr(0,"TopAlign"),10,10,a),pu(e,o,new Jr(2,"RightAlign"),new Yr(0,"TopAlign"),310,10,s),c=Bo()[fi.fields[0]];const f=c.ImageMetadata.ImageWidth+3|0;let d;bn((function(n){du(e,~~n*f|0,238,c)}),xn(1,1,S(m,10,n.InnerScreenModel.ManLives.fields[0]))),Zt((function(n,t){var r;du(e,320-20*(n+1)|0,238,(r=1===t.tag?bi:2===t.tag?ai:li,Bo()[r.fields[0]]))}),n.InnerScreenModel.ManInventory),d=Bo()[Ni.fields[0]];const h=25*n.InnerScreenModel.RoomReference.RoomOrigin.fields[0][0]|0,g=25*n.InnerScreenModel.RoomReference.RoomOrigin.fields[0][1]|0;for(let r=0;r<=24;r++){const o=n.InnerScreenModel.RoomReference.LevelModel.LevelTileMatrix.fields[0][g+r],i=r*d.ImageMetadata.ImageHeight+28|0;for(let r=0;r<=24;r++){const u=0|o[h+r],a=r*d.ImageMetadata.ImageWidth+10|0;let s;if(4===u||5===u){const e=n.InnerScreenModel.ImageLookupsTables.BrickStyles[u];let r;r=Bo()[_i.fields[0]],s=Oa(Fr,e,r,t)}else s=n.InnerScreenModel.ImageLookupsTables.BrickStyles[u];du(e,a,i,s)}}if(Xt((function(t){if(w(n.InnerScreenModel.RoomReference.RoomOrigin,t.InteractibleRoom))if(6===t.InteractibleType.tag);else{const r=n.InnerScreenModel.ImageLookupsTables.InteractibleObjectImages[function(e){switch(e.tag){case 1:return 1;case 2:return 2;case 3:return 3;case 4:return 4;case 5:case 6:return 5;default:return 0}}(t.InteractibleType)];let o;o=fs(t.InteractibleCentrePosition),hu(e,o.ptx,o.pty,r)}}),n.InnerScreenModel.Interactible),r(n.ManBullets),r(n.DroidBullets),Xt((function(r){let o,i;o=Oa(Ar,n.InnerScreenModel.ImageLookupsTables.DroidStyles1,n.InnerScreenModel.ImageLookupsTables.DroidStyles2,t),i=fs(r.DroidCentrePosition);const u=o[function(e){switch(e.tag){case 1:return 1;case 2:return 2;default:return 0}}(r.DroidType)];hu(e,i.ptx,i.pty,u)}),n.ScreenDroids),1===n.ScreenGhost.tag){let t,r;t=fs(n.ScreenGhost.fields[0]),r=Bo()[ii.fields[0]],hu(e,t.ptx,t.pty,r)}else if(2===n.ScreenGhost.tag){let t,r;t=fs(n.ScreenGhost.fields[0]),r=Bo()[ui.fields[0]],hu(e,t.ptx,t.pty,r)}let p;switch(function(e,n){if(null!=e.ManInvincibilityUntil){return n>e.ManInvincibilityUntil-Rr?new is(2,"InvincibilityWaningMode"):new is(1,"InvincibleMode")}return new is(0,"VulnerableMode")}(n.InnerScreenModel,t).tag){case 1:p=Wa(Br,t);break;case 2:p=Wa(Kr,t);break;default:p=!0}if(p){let r,o;if(1===n.ScreenMan.ManState.tag)r=Oa(Lr,n.InnerScreenModel.ImageLookupsTables.ManWalkingStyles1,n.InnerScreenModel.ImageLookupsTables.ManWalkingStyles2,t)[n.ScreenMan.ManState.fields[0]];else if(2===n.ScreenMan.ManState.tag){let e;e=Oa(Wr,Uo,Vo,t),r=Bo()[e.fields[0]]}else r=3===n.ScreenMan.ManState.tag?Bo()[qo.fields[0]]:n.InnerScreenModel.ImageLookupsTables.ManFacingStyles[n.ScreenMan.ManState.fields[0]];o=fs(n.ScreenMan.ManCentrePosition),hu(e,o.ptx,o.pty,r)}var M,I;M=e,I=n.DecorativeFlickbooks,sa(M,(function(e){return e}),I,t)}function ms(e,n,t){let r,o;o=~~(e+Math.fround(.5)),r=o;const i=0|(0|~~(t.fields[0].ptx+Math.fround(.5)))-r,u=0|(0|~~(t.fields[0].pty+Math.fround(.5)))-r,a=new na(i,u,2*r,2*r),s=[25*n.RoomOrigin.fields[0][0],25*n.RoomOrigin.fields[0][1]],l=new ta(he(i+12*s[0]),he(u+8*s[1]));let c=!1;return ra(n.LevelModel.TileMatrixTraits,a,l,(function(e,t,r,o){const i=0|n.LevelModel.LevelTileMatrix.fields[0][o][r];c=!!c||hs(i)})),c}function Ms(e){let n;let t;n=300;return t=200,e.fields[0].ptx<Math.fround(0)||e.fields[0].pty<Math.fround(0)||e.fields[0].ptx>300||e.fields[0].pty>200}function Is(e,n,t){const r=function(e){let n;return n=e,n},o=Qu(t),i=[r(o[0]),r(o[1])];return new wa(new ga(0,"ViewPoint",new Ru(e.fields[0].ptx+i[0]*n,e.fields[0].pty+i[1]*n)),t)}function ys(e,n){let t;return t=Jt((function(e){return new wa(new ga(0,"ViewPoint",Ya(e.BulletDirection,Sr,e.BulletCentrePosition.fields[0])),e.BulletDirection)}),n),nr((function(n){let t;return t=!!ms(wr,e,n.BulletCentrePosition)||Ms(n.BulletCentrePosition),!t}),t)}function Ss(e,n){let t;let r;let o;let i;var u,a,s,l;if(t=e(new J(0,"WebBrowserKeyCode",37)).Held,r=e(new J(0,"WebBrowserKeyCode",39)).Held,o=e(new J(0,"WebBrowserKeyCode",38)).Held,i=e(new J(0,"WebBrowserKeyCode",40)).Held,t||r||o||i){const e=(a=r,s=o,l=i,(u=t)&&s?1:u&&l?7:a&&s?3:a&&l?5:u?0:a?4:s?2:l?6:null);if(null==e)throw new Error("Should never happen");{const t=0|e;let r;const o=ns(n);return r=Ya(t,br,o),new ya(new Ia(1,"ManWalking",t),new ga(0,"ViewPoint",r))}}return new ya(1===n.ManState.tag?new Ia(0,"ManStandingFacing",n.ManState.fields[0]):n.ManState,n.ManCentrePosition)}const bs=P((function(e,n,...t){L.call(this,e,n,...t)}),L);const vs=P((function(e,n,...t){L.call(this,e,n,...t)}),L);const Cs=P((function(e,n,...t){L.call(this,e,n,...t)}),L);function Ds(e,n){if(!e(new J(0,"WebBrowserKeyCode",90)).JustDown)return null;var t,r;switch(1===n.ManState.tag?(t=0,r=n.ManState.fields[0]):2===n.ManState.tag||3===n.ManState.tag?t=1:(t=0,r=n.ManState.fields[0]),t){case 0:return Is(n.ManCentrePosition,pr,r);case 1:return null}}function xs(e){let n;if(1===e.ManState.tag)n=e.ManState.fields[0];else{if(3===e.ManState.tag)throw new Error("Man shouldn't be dead AND entering a room!");if(2===e.ManState.tag)throw new Error("Man shouldn't be electrocuted AND entering a room!");n=e.ManState.fields[0]}return new Sa(n,e.ManCentrePosition)}const ks=P((function(e,n,...t){L.call(this,e,n,...t)}),L);function Ts(e,n,t){let r;return r=Dn((function(n,r){var o,i;const u=[(o=r[0],o),(i=r[1],i)],a=new ga(0,"ViewPoint",new Ru(u[0],u[1]));let s;let l;switch(s=new va(0,"DroidIdentity",n>>>0),l=0===e.fields[0]?new ks(0,"MakeHoming"):1===e.fields[0]?n<3?new ks(1,"MakeWandering"):new ks(0,"MakeHoming"):n<3?new ks(2,"MakeAssassin"):n<5?new ks(1,"MakeWandering"):new ks(0,"MakeHoming"),l.tag){case 1:return new Ca(s,new ba(1,"WanderingDroid",2,t),a);case 2:return new Ca(s,new ba(2,"AssassinDroid"),a);default:return new Ca(s,new ba(0,"HomingDroid",Mr*((c=n)<2?Math.fround(1):c<4?Math.fround(.699999988079071):c<8?Math.fround(.4000000059604645):Math.fround(.10000000149011612))),a)}var c}),Xa(10,n,new Wu(0,"XorShift32State",t>>>0))[0]),Ut(r)}function Ps(e,n,t,r){const o=function(e,n){return!rr((function(e){var t;return t=Qa(e),!(Math.abs(t.ptx-n.fields[0].ptx)<hr&&Math.abs(t.pty-n.fields[0].pty)<hr)}),e)},i=function(t,r,i){return!!(ms(dr,n,i)||Math.abs(e.fields[0].ptx-i.fields[0].ptx)<gr&&Math.abs(e.fields[0].pty-i.fields[0].pty)<gr||o(t,i)||o(r,i))||Ms(i)};return function(e,n){let t=n,r=new O;for(;null!=t.tail;)if(null==t.tail);else{const n=t.tail;r=new O(e(t.head,n,r),r),t=n}return jt(r)}((function(n,r,o){let u,a;if(1===n.DroidType.tag){const e=function(e,n){let t,r;return r=~~(n*Math.fround(7))%5-2|0,t=e+r&7|0,new ba(1,"WanderingDroid",t,n+Cr)};if(t>n.DroidType.fields[1])u=[new ga(0,"ViewPoint",n.DroidCentrePosition.fields[0]),e(n.DroidType.fields[0],t)];else{let a;a=Ya(n.DroidType.fields[0],Ir,n.DroidCentrePosition.fields[0]),u=i(r,o,new ga(0,"ViewPoint",a))?[new ga(0,"ViewPoint",n.DroidCentrePosition.fields[0]),e(n.DroidType.fields[0],t)]:[new ga(0,"ViewPoint",a),new ba(1,"WanderingDroid",n.DroidType.fields[0],n.DroidType.fields[1])]}}else if(2===n.DroidType.tag){const t=Ja(n.DroidCentrePosition.fields[0],e.fields[0],yr);u=[new ga(0,"ViewPoint",t),new ba(2,"AssassinDroid")]}else{const t=Ja(n.DroidCentrePosition.fields[0],e.fields[0],n.DroidType.fields[0]);u=[new ga(0,"ViewPoint",t),new ba(0,"HomingDroid",n.DroidType.fields[0])]}const s=function(e){return!i(r,o,e)},l=new ga(0,"ViewPoint",new Ru(n.DroidCentrePosition.fields[0].ptx,u[0].fields[0].pty));if(s(l))a=s(u[0])?u[0]:l;else{const e=new ga(0,"ViewPoint",new Ru(u[0].fields[0].ptx,n.DroidCentrePosition.fields[0].pty));a=s(e)?e:n.DroidCentrePosition}return new Ca(n.DroidIdentity,u[1],a)}),r)}function Rs(e,n,t){return Aa(e,t,(function(e,n){const t=Za(e),r=Qa(n);return Math.abs(r.ptx-t.ptx)<lr&&Math.abs(r.pty-t.pty)<lr}),Za,$a,null,(function(e){return[ds(es(e),n),10]}))}function Es(e,n,t){const r=function(e,n){return Is(new ga(0,"ViewPoint",n.fields[0]),mr,e)};if(~~(n*Math.fround(50)+Math.fround(.5))%50==0){let u;if(u=nr(rs,t),null==u.tail)return new O;{const t=new Wu(0,"XorShift32State",n>>>0),a=Xa(1,_t(u,Array),t);let s;return o=function(n){const t=es(n);if(1===n.DroidType.tag)return r(n.DroidType.fields[0],t);if(2===n.DroidType.tag){let n;const o=ts(e);return n=function(e,n){const t=[n.ptx-e.ptx,n.pty-e.pty],r=[Math.abs(t[0]),Math.abs(t[1])],o=[Math.fround(2)*r[0],Math.fround(2)*r[1]];return r[0]>o[1]?t[0]>Math.fround(0)?4:0:r[1]>o[0]?t[1]>Math.fround(0)?6:2:t[0]>Math.fround(0)?t[1]>Math.fround(0)?5:3:t[1]>Math.fround(0)?7:1}(t.fields[0],o.fields[0]),r(n,t)}return null},i=a[0],s=mn(()=>Rn(e=>{let n=e.next();for(;!n.done;){const t=o(n.value);if(null!=t)return[Q(t),e];n=e.next()}return null},i[Symbol.iterator]())),Ut(s)}}return new O;var o,i}function Os(e,n,t,r){const o=e%(0|Ba.length)|0;let i;i=function(e){let n;return n=Bt((function(e){if(100===e.length){let n;return n=Cn((function(e){switch(e){case"#":return 2;case"*":case"+":return 4;case".":return 0;case":":return 1;case"@":return 3;default:throw new Error("Unrecognised character in level definition text")}}),e.split("")),Nt(n,Array)}throw new Error("Level definition has incorrect horizontal dimension.")}),e,Array),new ha(0,"LevelTileMatrix",n)}(Ba[o]);const u=new ka(new ca(0,"LevelIndex",o),i,new ea(100,100,12,8));let a;let s;a=Na((function(e){return 6===e.InteractibleType.tag?new Ka(1,"SecondList",e):new Ka(0,"FirstList",e)}),ws(u,r)),s=function(e){if(null!=e.tail){if(null!=e.tail.tail)throw new Error("Input list too long\\nParameter name: list");return e.head}throw new Error("The input sequence was empty\\nParameter name: list")}(a[1]);const l=new Ta(s.InteractibleRoom,u),c=new ya(new Ia(0,"ManStandingFacing",6),s.InteractibleCentrePosition),f=xs(c);return new Ra(new Pa(l,f,t.ScoreAndHiScore,new O,new la(0,"ManLives",t.Lives),null,a[0],function(e){var n,t,r,o;const i=function(e,n,t){const r=n.fields[0]+t%e|0;return new Gr(0,"ImageID",r)},u=[(n=i(3,oi,e),Bo()[n.fields[0]]),(t=i(3,oi,e+1),Bo()[t.fields[0]]),(r=i(8,Ni,e),Bo()[r.fields[0]]),(o=i(8,Ni,e+1),Bo()[o.fields[0]]),Bo()[Hi.fields[0]],Bo()[Gi.fields[0]]],a=[Bo()[Zo.fields[0]],Bo()[Qo.fields[0]],Bo()[ri.fields[0]],Bo()[ti.fields[0]],Bo()[ei.fields[0]],Bo()[ni.fields[0]],Bo()[Xo.fields[0]],Bo()[$o.fields[0]]],s=[Bo()[Pi.fields[0]],Bo()[ki.fields[0]],Bo()[Bi.fields[0]],Bo()[Li.fields[0]],Bo()[Fi.fields[0]],Bo()[Ei.fields[0]],Bo()[vi.fields[0]],Bo()[Di.fields[0]]],l=[Bo()[Ri.fields[0]],Bo()[Ti.fields[0]],Bo()[Ki.fields[0]],Bo()[Wi.fields[0]],Bo()[Ai.fields[0]],Bo()[Oi.fields[0]],Bo()[Ci.fields[0]],Bo()[xi.fields[0]]],c=[Bo()[di.fields[0]],Bo()[gi.fields[0]],Bo()[pi.fields[0]],Bo()[mi.fields[0]],Bo()[Ii.fields[0]]],f=[Bo()[hi.fields[0]],Bo()[wi.fields[0]],Bo()[pi.fields[0]],Bo()[Mi.fields[0]],Bo()[yi.fields[0]]],d=[Bo()[li.fields[0]],Bo()[bi.fields[0]],Bo()[ai.fields[0]],Bo()[si.fields[0]],Bo()[Si.fields[0]],Bo()[ci.fields[0]]];return new xa(u,a,s,l,c,f,d)}(o),n),c,new O,new Da(0,"NoGhostUntil",r+Dr),new O,new O,new O)}function Ls(e,n,t,r){const o=new O(function(e){const n=Bo()[ri.fields[0]],t=n.ImageMetadata.ImageWidth+80|0,r=n.ImageMetadata.ImageHeight+80|0,o=new Ru(0|~~(e.fields[0].ptx+Math.fround(.5)),0|~~(e.fields[0].pty+Math.fround(.5))),i=new Lu(t,r),u=o.ptx-~~(i.dimx/2)|0,a=o.pty-~~(i.dimy/2)|0;return new Ou(u,a,u+i.dimx,a+i.dimy)}(e.NewRoomManCentre),new O),i=new Ta(e.NewRoomOrigin,r.InnerScreenModel.RoomReference.LevelModel);let u;u=Nt(gs(i,o,20),Array);const a=null==r.ScreenDroids.tail?[250,new O(new no(0,"PlaySoundEffect",No()[ji.fields[0]]),new O)]:[0,new O],s=new ya(n,e.NewRoomManCentre);return[new Ra(new Pa(i,xs(s),Io(a[0],r.InnerScreenModel.ScreenScore),r.InnerScreenModel.ManInventory,r.InnerScreenModel.ManLives,r.InnerScreenModel.ManInvincibilityUntil,r.InnerScreenModel.Interactible,r.InnerScreenModel.ImageLookupsTables,r.InnerScreenModel.WhereToOnGameOver),s,Ts(i.LevelModel.LevelIndex,u,t),new Da(0,"NoGhostUntil",t+Dr),new O,new O,new O),a[1]]}function Ws(e,n,t,r,o,i,u,a,s,l,c,f,d,h,g,w,p){var m;let M;if(1===w.tag)M=e+Er;else if(null!=p.InnerScreenModel.ManInvincibilityUntil){M=e>=p.InnerScreenModel.ManInvincibilityUntil?null:p.InnerScreenModel.ManInvincibilityUntil}else M=null;const I=new Pa(p.InnerScreenModel.RoomReference,p.InnerScreenModel.ManStartPositionInRoom,Io(c,p.InnerScreenModel.ScreenScore),null==f?p.InnerScreenModel.ManInventory:new O(f,p.InnerScreenModel.ManInventory),(y=d,S=p.InnerScreenModel.ManLives,1===y.tag?new la(0,"ManLives",S.fields[0]+1):S),M,h,p.InnerScreenModel.ImageLookupsTables,p.InnerScreenModel.WhereToOnGameOver);var y,S;return new Ra(I,n,o,a,null==r?t:new O(r,t),zt(i,u),(m=zt(s,g),zt(l,m)))}const Fs=P((function(e,n,...t){L.call(this,e,n,...t)}),L);function As(e,n,t,r){const o=Ro(e),i=ns(o.ScreenMan);let u;if(u=cs(o.InnerScreenModel.RoomReference.LevelModel.LevelIndex,o.InnerScreenModel.ManInventory,o.InnerScreenModel.Interactible,o.InnerScreenModel.RoomReference.RoomOrigin,i),u){let n,r,i;const u=Oo(e),a=Eo(e);return i=Po(o,C(3,a),C(4,u),new O),s=t,l=i,r=Po(null,(function(e,n,t){l.Draw(e,s)}),Fo,new O),n=za(t+kr,(function(n){const t=Ga(o.InnerScreenModel.RoomReference.LevelModel.LevelIndex.fields[0]+2|0);return za(n+Tr,(function(n){let t;t=function(e,n){const t=n.InnerScreenModel.RoomReference.LevelModel.LevelIndex.fields[0]+1|0,r=new Su(n.InnerScreenModel.ScreenScore,n.InnerScreenModel.ManLives.fields[0]);return Os(t,n.InnerScreenModel.WhereToOnGameOver,r,e)}(n,o);const r=Oo(e);return Po(t,C(3,Eo(e)),C(4,r),new O)}),t)}),r),Ao(new O(new no(0,"PlaySoundEffect",No()[ou.fields[0]]),new O),n)}{const i=ss(o.InnerScreenModel.RoomReference.RoomOrigin,o.ScreenMan);if(null==i){let i,u;switch(1===o.ScreenMan.ManState.tag?0:2===o.ScreenMan.ManState.tag||3===o.ScreenMan.ManState.tag?1:0){case 0:u=n;break;case 1:a=n,u=function(e){return 90===e.fields[0]||37===e.fields[0]||39===e.fields[0]||38===e.fields[0]||40===e.fields[0]?new Y(!1,!1):a(e)}}let s,l,c,f;s=ys(o.InnerScreenModel.RoomReference,o.ManBullets),l=ys(o.InnerScreenModel.RoomReference,o.DroidBullets),c=function(e,n){return aa(e,(function(e){return e}),n)}(t,o.DecorativeFlickbooks);const d=ts(o.ScreenMan);let h;f=Ps(d,o.InnerScreenModel.RoomReference,t,o.ScreenDroids),h=Ss(u,o.ScreenMan);const g=!(null!=o.InnerScreenModel.ManInvincibilityUntil),p=function(e){if(d=o.InnerScreenModel.RoomReference,w=h.ManCentrePosition,ms(fr,d,w)||g&&function(e,n){switch(e.tag){case 1:return Math.abs(e.fields[0].fields[0].ptx-n.fields[0].ptx)<ar&&Math.abs(e.fields[0].fields[0].pty-n.fields[0].pty)<ar;case 2:default:return!1}}(o.ScreenGhost,h.ManCentrePosition)||g&&(s=f,c=h.ManCentrePosition,os(s,(function(e){return e.DroidCentrePosition}),sr,c)))return[(a=h,new ya(new Ia(2,"ManElectrocuted"),a.ManCentrePosition)),Vi];if(g&&(i=l,u=h.ManCentrePosition,os(i,(function(e){return e.BulletCentrePosition}),lr,u))){let e;return e=Oa(Math.fround(1),uu,au,t),[(n=h,new ya(new Ia(3,"ManDead"),n.ManCentrePosition)),e]}{let n;if(1===e.tag){n=La(Lr,Xi,Zi,null,r,t)}else n=null;return[h,n]}var n,i,u,a,s,c,d,w},m=1===h.ManState.tag?p(new Fs(1,"IncludeWalkingSound")):2===h.ManState.tag||3===h.ManState.tag?[h,null]:p(new Fs(0,"NoWalkingSound"));let M,I,y,S,b,v;M=function(e,n,t){const r=function(e){return!!w(e.InteractibleRoom,n)&&(Math.abs(t.ManCentrePosition.fields[0].ptx-e.InteractibleCentrePosition.fields[0].ptx)<cr&&Math.abs(t.ManCentrePosition.fields[0].pty-e.InteractibleCentrePosition.fields[0].pty)<cr)};let o;if(o=er(r,e),null!=o){const n=o;let t;const i=function(e){return[new bs(1,"RemoveInteractible"),new Cs(0,"NoExtraLife"),new vs(0,"NoChangeInvincibility"),$(e),su]};let u;return t=1===n.InteractibleType.tag?i(new pa(1,"InvRing")):2===n.InteractibleType.tag?i(new pa(2,"InvGold")):3===n.InteractibleType.tag?[new bs(1,"RemoveInteractible"),new Cs(0,"NoExtraLife"),new vs(1,"GainInvincibility"),null,ru]:4===n.InteractibleType.tag?[new bs(1,"RemoveInteractible"),new Cs(1,"ExtraLifeGained"),new vs(0,"NoChangeInvincibility"),null,Yi]:5===n.InteractibleType.tag||6===n.InteractibleType.tag?[new bs(0,"KeepInteractible"),new Cs(0,"NoExtraLife"),new vs(0,"NoChangeInvincibility"),null,null]:i(new pa(0,"InvKey")),u=0===t[0].tag?e:Au((function(e){return!r(e)}),e),[t[1],t[2],t[3],u,t[4]]}return[new Cs(0,"NoExtraLife"),new vs(0,"NoChangeInvincibility"),null,e,null]}(o.InnerScreenModel.Interactible,o.InnerScreenModel.RoomReference.RoomOrigin,m[0]),I=Rs(s,t,f),y=Rs(l,t,I[1]),S=Ds(u,m[0]),b=Es(m[0],t,y[1]),v=function(e,n,t,r){const o=function(e,n){return or((function(e){const t=Za(e);return Math.abs(n.fields[0].ptx-t.ptx)<lr&&Math.abs(n.fields[0].pty-t.pty)<lr}),e)};switch(r.tag){case 1:if(o(n,r.fields[0]))return[new Da(2,"GhostStunned",r.fields[0],t+xr),lu];{const n=Ja(r.fields[0].fields[0],ns(e),vr);return[new Da(1,"GhostActive",new ga(0,"ViewPoint",n)),null]}case 2:return o(n,r.fields[0])?[new Da(2,"GhostStunned",r.fields[0],t+xr),lu]:t>r.fields[1]?[new Da(1,"GhostActive",r.fields[0]),null]:[r,null];default:return t>r.fields[0]?[new Da(1,"GhostActive",ls(ts(e))),tu]:[r,null]}}(m[0],I[0],t,o.ScreenGhost);const D=function(e,n,t,r,o,i,u){const a=null!=n?iu:null,s=null==t.tail?null:qi,l=null==r.tail&&null==o.tail?null:Ji,c=function(e,n){if(null!=e){return new O(Q(e),n)}return n};return Jt((function(e){return new no(0,"PlaySoundEffect",No()[e.fields[0]])}),c(u,c(i,c(null!=r.tail?null==r.tail.tail?null:Ui:null,c(l,c(s,c(a,c(e,new O))))))))}(m[1],S,b,I[2],y[2],M[4],v[1]);let x;if(x=Ws(t,m[0],I[0],S,y[1],y[0],b,v[0],I[2],y[2],I[3],M[2],M[0],M[3],c,M[1],o),i=[x,D],function(e,n){const t=function(e){switch(e.tag){case 1:return!1;case 2:case 3:return!0;default:return!1}},r=t(e.ScreenMan.ManState),o=t(n.ScreenMan.ManState);switch(r?1:o?0:1){case 0:return!0;case 1:return!1}}(o,i[0])){let n;const r=Oo(e),o=Eo(e);return n=Po(i[0],C(3,o),C(4,r),i[1]),za(t+Pr,(function(n){let t;if(t=function(e){var n;const t=e.InnerScreenModel.ManLives.fields[0]>0?[e.InnerScreenModel.ManLives.fields[0]-1,!1]:[0,!0];return[new Ra((n=new la(0,"ManLives",t[0]),new Pa(e.InnerScreenModel.RoomReference,e.InnerScreenModel.ManStartPositionInRoom,e.InnerScreenModel.ScreenScore,e.InnerScreenModel.ManInventory,n,e.InnerScreenModel.ManInvincibilityUntil,e.InnerScreenModel.Interactible,e.InnerScreenModel.ImageLookupsTables,e.InnerScreenModel.WhereToOnGameOver)),e.ScreenMan,e.ScreenDroids,e.ScreenGhost,e.ManBullets,e.DroidBullets,e.DecorativeFlickbooks),t[1]]}(i[0]),t[1]){let e;e=function(e,n,t){return n[Ea(e,n.length,t)]}(Math.fround(1),[$i,Qi,eu,nu],n);const r=t[0].InnerScreenModel.WhereToOnGameOver(t[0].InnerScreenModel.ScreenScore,n);return Ao(new O(new no(0,"PlaySoundEffect",No()[e.fields[0]]),new O),r)}{const o=(r=t[0].InnerScreenModel.ManStartPositionInRoom,new ya(new Ia(0,"ManStandingFacing",r.ManStartFacingDirection),r.ManStartPosition));let i;i=Ls(new as(t[0].InnerScreenModel.RoomReference.RoomOrigin,o.ManCentrePosition),o.ManState,n,t[0]);const u=Oo(e),a=Eo(e);return Po(i[0],C(3,a),C(4,u),i[1])}var r}),n)}{const n=Oo(e),t=Eo(e);return Po(i[0],C(3,t),C(4,n),i[1])}}{let n;n=Ls(i,o.ScreenMan.ManState,t,o);const r=Oo(e),u=Eo(e);return Po(n[0],C(3,u),C(4,r),n[1])}}var a,s,l}const Bs=Math.fround(.125),Ks=P((function(e,n,t){this.ScreenStartTime=e,this.ScoreboardMemo=n,this.MemoizedBackground=t}),B);function Ns(e,n,t){let r,o,i,u,a,s;du(e,0,0,n.MemoizedBackground),r=160,o=51,i=76,u=140,a=166,s=217;const l=Ko()[_o.fields[0]],c=Xr(6,2,2,l),f=Xr(6,4,6,l);if(Wa(Bs,t-n.ScreenStartTime))pu(e,f,new Jr(1,"CentreAlign"),new Yr(1,"MiddleAlign"),160,76,"MISSION II"),pu(e,l,new Jr(1,"CentreAlign"),new Yr(1,"MiddleAlign"),160,140,"A RETRO REMAKE OF THE BBC MICRO CLASSIC"),pu(e,l,new Jr(1,"CentreAlign"),new Yr(1,"MiddleAlign"),160,166,"CYBERTRON MISSION");else{const t=3*l.CharHeight+4|0;pu(e,c,new Jr(1,"CentreAlign"),new Yr(1,"MiddleAlign"),160,51,"HI SCORES"),mu(e,c,new Jr(1,"CentreAlign"),new Yr(1,"MiddleAlign"),160,140,t,n.ScoreboardMemo)}pu(e,l,new Jr(1,"CentreAlign"),new Yr(1,"MiddleAlign"),160,217,"CONTROLS   CURSOR KEYS   Z FIRE")}let _s=new O;function Hs(e,n){const t=(r=e,Po(new Tu(_n(Nn("SCORE %d"))(r.Score)),Pu,Fo,new O));var r;return function(e,n,t,r){return Po(new Xu(r,(function(e){return e}),n+e,t),Zu,$u,new O)}(bu,n,(function(n,t){return Yu(n,function(e,n){return ku(e,_s,(function(e,n){return _s=e,js(n)}),n)}(e,t),new qu(2,"ComingFromLeft"),320,256,(function(e,n){let t;let r,o,i;var u;return t=e/n,i=(u=t)*u,o=n*i,r=o,r}),Math.fround(1),t)}),t)}function Gs(e,n){return function(e,n,t){const r=Ga(1);return za(t+Tr,(function(t){return Po(Os(0,e,n,t),ps,As,new O)}),r)}(Hs,e,n)}function js(e){const n=new Su(new Mo(0,go(_s)),3),t=Po(new Ks(r=e,mo(24,_s),(o=Oa(Math.fround(1),Ho,Go,r),Bo()[o.fields[0]])),Ns,Fo,new O);var r,o;return function(e,n,t){return Va((function(t,r){return r(n).JustDown?e(t):null}),t)}((function(e){return Gs(n,e)}),yu,t)}function qs(e,n){return _s=function(e,n,t){let r;return r=Yt((function(e,r){const o=n+(e>>>0)*t;return new fo(r,o,o.toString())}),e),ir(ho,r,{Compare:m})}($t(["BARNEY","MARTIN","HELEN","JULIA"]),2500,2500),js(n)}const Us=new J(0,"WebBrowserKeyCode",80),Vs=P((function(e,n,t,r,o){this.WebBrowserKeyCode=e,this.ThisKeyScanCode=n,this.MutHeld=t,this.MutJustPressed=r,this.MutWaitingRelease=o}),B);function zs(e,n){return new Vs(e,n,!1,!1,!1)}function Js(e){return new Y(e.MutJustPressed,e.MutHeld)}const Ys=P((function(e,n,t){this.MutableKeyStatesList=e,this.PauseKey=n,this.GameIsPaused=t}),B);function Xs(e,n){let t;if(t=er((function(e){return w(e.ThisKeyScanCode,n)}),e.MutableKeyStatesList),null==t)return w(n,e.PauseKey.ThisKeyScanCode)?e.PauseKey:null;return t}function Zs(e,n){const t=Xs(e,n);if(null!=t){const n=t;return n.MutWaitingRelease||(w(n.ThisKeyScanCode,e.PauseKey.ThisKeyScanCode)&&((r=e).GameIsPaused=!r.GameIsPaused),n.MutHeld=!0,n.MutJustPressed=!0,n.MutWaitingRelease=!0),!0}return!1;var r}function $s(e,n){const t=Xs(e,n);if(null!=t){const e=t;return e.MutHeld=!1,e.MutWaitingRelease=!1,!0}return!1}P((function(e,n){this.Fonts=e,this.Images=n}),B);function Qs(e,n,t,r,o,i){const u=[];!function i(a){if(null!=a.tail){const o=e(a.head),s=0|n(a.head),l=0|r(a.head),c=0|t(a.head);loadImageThenDo(o,!0,(function(e){Kt(function(e,n){const t=0|e.ImageMetadata.ImageHeight;return new zr(e,1,1,n,t,n,t)}(new qr(new Hr(o,new _r(1,"MagentaColourKeyImage"),s,l),new jr(0,"HostImageRef",IFsharpImageToTexture(e))),c),u),i(a.tail)}))}else o(u.slice())}(i)}function el(e,n,t,r,o){InitialiseWebGl2Interface(e.RetroScreenWidth,e.RetroScreenHeight,e.RetroScreenTitle),Qs((function(e){return e.FontImageMetadata.ImageFileName}),(function(e){return e.FontImageMetadata.ImageWidth}),(function(e){return e.FontCharWidth}),(function(e){return e.FontImageMetadata.ImageHeight}),(function(e){!function(e,n,t,r,o,i){const u=[];!function i(a){if(null!=a.tail){const o=e(a.head),s=n(a.head),l=0|t(a.head),c=0|r(a.head);loadImageThenDo(o,s,(function(e){Kt(new qr(new Hr(o,s?new _r(1,"MagentaColourKeyImage"):new _r(0,"OpaqueImage"),l,c),new jr(0,"HostImageRef",IFsharpImageToTexture(e))),u),i(a.tail)}))}else o(u.slice())}(i)}((function(e){return e.ImageFileName}),(function(e){return 1===e.ImageTransparency.tag}),(function(e){return e.ImageWidth}),(function(e){return e.ImageHeight}),(function(n){!function(e,n,t){const r=[];!function t(o){if(null!=o.tail){const n=e(o.head);loadSoundThenDo(n,(function(e){Kt(new eo(new Zr(n),new Qr(0,"HostSoundRef",e)),r),t(o.tail)}))}else n(r.slice())}(t)}((function(e){return e.SoundFileName}),(function(t){o(n,e,t)}),r)}),n)}),t)}function nl(e){switch(e.tag){case 2:{let n,t,r,o,i,u,a,s;n=e.fields[2].ImageMetadata.ImageWidth,t=e.fields[2].ImageMetadata.ImageHeight,r=e.fields[2].ImageMetadata.ImageWidth,o=e.fields[2].ImageMetadata.ImageHeight,i=~~(e.fields[0]+Math.fround(.5)),u=~~(e.fields[1]+Math.fround(.5)),a=e.fields[3],s=e.fields[4],r>0&&o>0&&a>0&&s>0&&IFsharpDrawImagePortion(e.fields[2].HostImageRef.fields[0],n,t,0,0,r,o,i,u,a,s);break}case 3:{let n,t,r,o,i,u;n=e.fields[8].ImageMetadata.ImageWidth,t=e.fields[8].ImageMetadata.ImageHeight,r=~~(e.fields[4]+Math.fround(.5)),o=~~(e.fields[5]+Math.fround(.5)),i=e.fields[6],u=e.fields[7],e.fields[2]>0&&e.fields[3]>0&&i>0&&u>0&&IFsharpDrawImagePortion(e.fields[8].HostImageRef.fields[0],n,t,e.fields[0],e.fields[1],e.fields[2],e.fields[3],r,o,i,u);break}case 1:{let u,a,s,l;u=e.fields[2],a=e.fields[3],s=e.fields[0],l=e.fields[1],n=s,t=l,r=u,o=a,i=e.fields[4].fields[0],IFsharpDrawRectangle(n,t,r,o,((16711680&i)>>>0>>>16)/256,((65280&i)>>>0>>>8)/256,((255&i)>>>0)/256);break}default:{let n,t,r,o;n=e.fields[2].ImageMetadata.ImageWidth,t=e.fields[2].ImageMetadata.ImageHeight,r=e.fields[0],o=e.fields[1],IFsharpDrawImageOneToOne(e.fields[2].HostImageRef.fields[0],n,t,r,o)}}var n,t,r,o,i}function tl(e,n,t,r,o,i){var u,a;let s;u=o,a=i,Bo(r),Ko(u),No(a);const l=n();if(0!==l.tag)throw new Error(l.fields[0]);s=l.fields[0];const c=Math.fround(0),f=Math.fround(.019999999552965164);let d=t(s,c);const h=(g=80,p=Jt((function(e){return[e.fields[0],new J(0,"WebBrowserKeyCode",e.fields[0])]}),e),new Ys(Jt((function(e){return zs(e[1],e[0])}),p),zs(Us,g),!1));var g,p;const m=function(e,n){document.addEventListener(e,(function(e){n(h,~~e.keyCode)&&e.preventDefault()}))};m("keydown",Zs),m("keyup",$s),document.getElementById("loaderScreen").classList.add("hidden"),document.getElementById("gameScreen").classList.remove("hidden");let M=0;window.setInterval((function(){let e;let n;var t;M+=1,e=M/Math.fround(50),d.Draw(nl,e),n=d.Frame((function(e){return function(e,n){let t;return t=er((function(e){return w(e.WebBrowserKeyCode,n)}),e.MutableKeyStatesList),null==t?w(n,e.PauseKey.WebBrowserKeyCode)?Js(e.PauseKey):X:Js(t)}(h,e)}),e,f),Xt((function(e){var n;n=e.fields[0].HostSoundRef,playSound(n.fields[0])}),n.Sounds()),or((function(e){return e.MutJustPressed}),(t=h).MutableKeyStatesList)&&Xt((function(e){e.MutJustPressed=!1}),t.MutableKeyStatesList),d=n}),20,null)}function rl(){const e=$t([new J(0,"WebBrowserKeyCode",37),new J(0,"WebBrowserKeyCode",39),new J(0,"WebBrowserKeyCode",38),new J(0,"WebBrowserKeyCode",40),new J(0,"WebBrowserKeyCode",90)]);el(new Nr("Mission II",320,256),so,ro,lo,(function(n,t,r){tl(e,(function(){return new ee(0,"Ok",1)}),qs,n,t,r)}))}rl(),t.d(n,"WebMain",(function(){return rl}))}]);